webpackJsonp([1],{"/fX3":function(e,t){},0:function(e,t){},"1mTh":function(e,t){},"3IAS":function(e,t){},"3tJC":function(e,t){},"3wR+":function(e,t){},"59gU":function(e,t){},"5pl2":function(e,t){},"5rdb":function(e,t){},"5uXR":function(e,t){},"7Bnu":function(e,t){},"7zck":function(e,t){},"85AN":function(e,t){},"8lH+":function(e,t){},BYNm:function(e,t){},BaBo:function(e,t){},DWgZ:function(e,t){},EALS:function(e,t){},GFRM:function(e,t){},HXSZ:function(e,t){},HXiJ:function(e,t){},"Ijr/":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),n={admin:[{title:"Search",route:"admin.search"},{title:"Notices",route:"admin.notices.index"},{title:"Users",route:"admin.users.index"},{title:"Subjects",route:"admin.subjects.index"},{title:"Disciplines",route:"admin.disciplines.index"},{title:"Schools",route:"admin.schools.index"},{title:"Centres",route:"admin.centres.index",meta:{centre_based_entry:"true"}},{title:"Jobs",route:"admin.jobs"},{title:"Marks Entry",route:"admin.marks-entry.slip-wise",meta:{centre_based_entry:"true"}},{title:"Marks Entry",route:"admin.marks-entry.school-wise",meta:{centre_based_entry:null}},{title:"Supp Marks Entry",route:"admin.supp-marks-entry.school-wise"},{title:"Marksheet",route:"admin.marksheet.print"},{title:"Downloads",route:"admin.downloads.index"},{title:"Settings",route:"admin.settings"},{title:"Routines",route:"admin.routines.index"}],school:[{title:"Notice",route:"notices"},{title:"Profile",route:"school.profile"},{title:"Mark Entry",route:"school.marks-entry",meta:{th_marks_entry_school_side:"true"}},{title:"Supp Mark Entry",route:"school.supp-marks-entry",meta:{supp_marks_entry_school_side:"true"}},{title:"Students",route:"school.students.index"},{title:"Practical Marks",route:"school.practical-marks.subject-wise"},{title:"Practical Marks Listing",route:"school.practical-marks.mark-list"}],general:[{title:"Notice",route:"notices"},{title:"Routines",route:"routines"},{title:"Result",route:"result",meta:{result_published:"true"}},{title:"Login",route:"auth.login"}]},r={name:"nav-bar",mounted:function(){this.changeMenuItems(),this.$bus.$on("user.fetched",this.setUser),this.$bus.$on("menu.change",this.changeMenuItems)},data:function(){return{menuItems:n.general}},methods:{changeMenuItems:function(){var e=this;this.$auth.check("ROLE_ADMIN")&&(this.menuItems=n.admin),this.$auth.check("ROLE_SCHOOL")&&(this.menuItems=n.school),this.$auth.check()||(this.menuItems=n.general),this.menuItems=this.menuItems.filter(function(t){for(var a in t.meta)if((t.meta[a]||null===t.meta[a])&&e.$store.state.core.metas[a]!==t.meta[a])return!1;return!0})},setUser:function(e){this.$store.commit("core/setUser",e),this.changeMenuItems()}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-toolbar",{staticClass:"no-print",attrs:{height:"100px",color:"#0b5394",flat:""}},[a("v-spacer"),e._v(" "),a("v-toolbar-items",e._l(e.menuItems,function(t){return a("v-btn",{key:t.route,staticStyle:{"font-size":"12px"},attrs:{flat:"",color:"#fff",to:{name:t.route}}},[e._v(e._s(t.title))])})),e._v(" "),a("v-spacer")],1)},staticRenderFns:[]};var i=a("VU/8")(r,o,!1,function(e){a("bDY8")},"data-v-eaf7a596",null).exports,l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"no-print",staticStyle:{"max-height":"140px !important"},attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md1:""}},[a("router-link",{attrs:{to:{name:e.$auth.check("ROLE_ADMIN")?"admin.dashboard":"dashboard"}}},[a("v-img",{attrs:{height:"95px",contain:!0,src:"/static/logo_1.png"}})],1)],1),e._v(" "),a("v-flex",{staticClass:"logo-text",attrs:{md3:""}},[a("router-link",{staticClass:"my-link",attrs:{to:{name:e.$auth.check("ROLE_ADMIN")?"admin.dashboard":"dashboard"}}},[a("p",[e._v(e._s(e.$store.state.core.metas.municipal_name))])]),e._v(" "),a("p",{staticClass:"logo-text-small"},[e._v(e._s(e.$store.state.core.metas.municipal_office_name))])],1),e._v(" "),e.$auth.check()?a("v-flex",{attrs:{m2:"","text-xs-right":""}},[a("p",{staticClass:"subheading"},[e._v("Hello, "+e._s(e.$auth.user().username)+"! "),e.$auth.user().school?[a("br"),e._v("School Name: "+e._s(e.$auth.user().school.name))]:e._e()],2),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{m1:"","text-xs-right":""}},[e.$auth.impersonating()?a("v-btn",{attrs:{flat:"",color:"black",outline:""},on:{click:function(t){e.$auth.unimpersonate()}}},[e._v("Back to Admin\n            Panel\n          ")]):e._e(),e._v(" "),a("v-btn",{attrs:{flat:"",color:"black",outline:"",to:{name:"auth.change-password"}}},[e._v("Change Password")]),e._v(" "),a("v-btn",{attrs:{flat:"",color:"black",outline:""},on:{click:e.logout}},[e._v("Logout")])],1)],1)],1):e._e()],1)],1)},staticRenderFns:[]};var c=a("VU/8")({name:"top-header",methods:{logout:function(){this.$auth.logout(),this.$bus.$emit("menu.change")}}},l,!1,function(e){a("3IAS")},"data-v-072bb89b",null).exports,u=function(){return s.default.http.get("v1/public/metas")},d=new s.default,v={components:{TopHeader:c,NavBar:i},name:"app",created:function(){var e=this;this.$bus.$on("error.on.refresh",function(t){e.$auth.logout(),e.$router.push({name:"auth.login"})}),d.$on("load.metas",function(){u().then(function(t){e.$store.commit("core/mapAndStoreAllMetas",t.body),d.$emit("menu.change"),e.$gtm.trackEvent({event:null,category:"Site Loaded",action:"loading",label:"Municipal",value:e.$store.state.core.metas.municipal_name,noninteraction:!1})})})},mounted:function(){d.$emit("load.metas")}},m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",[this.$auth.ready()?t("div",[t("top-header"),this._v(" "),t("nav-bar"),this._v(" "),t("v-content",[t("v-container",{attrs:{fluid:""}},[t("router-view")],1)],1),this._v(" "),t("v-footer",{attrs:{app:""}})],1):t("div",[this._v("\n    Site loading...\n  ")])])},staticRenderFns:[]};var h=a("VU/8")(v,m,!1,function(e){a("nRyO")},null,null).exports,f=a("Gu7T"),p=a.n(f),b=a("/ocq"),_=function(){return s.default.http.get("v1/wards")},x=function(e){return s.default.http.post("v1/wards",e)},g=function(e){return s.default.http.delete("v1/wards/"+e)},y=function(e){return s.default.http.get("v1/wards/"+e)},w={created:function(){var e=this;_().then(function(t){e.items=t.body})},data:function(){return{search:"",headers:[{text:"Ward No",align:"left",sortable:!0,value:"id"},{text:"Name",value:"name"},{text:"Actions",value:"actions",width:"20%"}],items:[]}},methods:{deleteWard:function(e){var t=this;g(e.id).then(function(a){var s=t.items.indexOf(e);t.items.splice(s,1)})}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Wards")])]),e._v(" "),a("v-flex",{attrs:{md4:""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("v-flex",{attrs:{"justify-end":""}},[a("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.wards.create"}}},[a("v-icon",[e._v("add")])],1)],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"rows-per-page-items":[-1],search:e.search},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n        "+e._s(t.header.text)+"\n      ")]),e._v(" "),a("span",[e._v("\n        "+e._s(t.header.text)+"\n      ")])])]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),e._v(" "),a("td",[e._v(e._s(t.item.name))]),e._v(" "),a("td",[a("v-btn",{attrs:{danger:"",flat:""},on:{click:function(a){e.deleteWard(t.item)}}},[a("v-icon",[e._v("delete")])],1),a("v-btn",{attrs:{to:{name:"admin.wards.edit",params:{id:t.item.id}},primary:"",flat:""}},[a("v-icon",[e._v("create")])],1)],1)]}}])})],1)},staticRenderFns:[]};var S=a("VU/8")(w,k,!1,function(e){a("gxeq")},"data-v-25d365b8",null).exports,j={name:"ward-form",props:{ward:{type:Object,required:!0}},data:function(){return{valid:!1,name:"",id:"",nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=30||"Name must be less than 10 characters"}],wardNumberRules:[function(e){return!!e||"Ward Number is required"},function(e){return e&&e.length<=2||"Ward Number must be less than 2 characters"}]}},methods:{clear:function(){this.$refs.ward_form.reset()},submit:function(){var e=this;x(this.ward).then(function(t){e.$router.push({name:"admin.wards.index"})})}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{md6:""}},[a("v-form",{ref:"ward_form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.wardNumberRules,counter:2,label:"Ward Number",required:""},model:{value:e.ward.id,callback:function(t){e.$set(e.ward,"id",t)},expression:"ward.id"}}),e._v(" "),a("v-text-field",{attrs:{rules:e.nameRules,counter:30,label:"Name",required:""},model:{value:e.ward.name,callback:function(t){e.$set(e.ward,"name",t)},expression:"ward.name"}}),e._v(" "),a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("\n      submit\n    ")]),e._v(" "),a("v-btn",{on:{click:e.clear}},[e._v("clear")])],1)],1)},staticRenderFns:[]};var I=a("VU/8")(j,D,!1,function(e){a("HXiJ")},"data-v-d8228a60",null).exports,R={components:{WardForm:I},created:function(){},data:function(){return{}}},$={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Add New Ward")])]),this._v(" "),t("v-flex",{attrs:{md2:""}},[t("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.wards.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("ward-form",{attrs:{ward:{id:"",name:""}}})],1)},staticRenderFns:[]};var N=a("VU/8")(R,$,!1,function(e){a("7Bnu")},"data-v-53d38514",null).exports,C={components:{WardForm:I},data:function(){return{ward:{id:"",name:""}}},watch:{$route:function(e,t){this.created()}},created:function(){var e=this;y(this.$route.params.id).then(function(t){e.ward=t.body})}},E={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Edit Ward")])]),this._v(" "),t("v-flex",{attrs:{md2:""}},[t("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.wards.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("ward-form",{attrs:{ward:this.ward}})],1)},staticRenderFns:[]},P=a("VU/8")(C,E,!1,null,null,null).exports,M=a("woOf"),F=a.n(M),T=function(e){return s.default.http.post("v1/schools/index",e)},H=function(e){return s.default.http.post("v1/schools",e)},B=function(e){return s.default.http.delete("v1/schools/"+e)},q=function(e){return s.default.http.get("v1/schools/generate-id",{params:{wardId:e}})},W=function(e){return s.default.http.get("v1/schools/"+e)},A=function(){return s.default.http.get("v1/school/disciplines")},O=function(e){return s.default.http.post("v1/school/profile",e)},L=function(){return s.default.http.get("v1/school/profile")},U=function(){return s.default.http.get("v1/school-types")},V=function(){return s.default.http.get("v1/disciplines")},z=function(e){return s.default.http.post("v1/disciplines",e)},Y=function(e){return s.default.http.delete("v1/disciplines/"+e)},G=function(e){return s.default.http.get("v1/disciplines/"+e)},J=a("Dd8w"),X=a.n(J),Z=function(e){var t=[];e.schoolHasDisciplinesById.forEach(function(e){t.push({id:null,schoolId:null,disciplineId:e})});var a=X()({},e);return a.schoolHasDisciplinesById=t,a},Q=function(e){return e.schoolHasDisciplinesById=e.schoolHasDisciplinesById.map(function(e){return e.disciplineId}),e},K=a("//Fk"),ee=a.n(K),te=a("b43k"),ae=a.n(te),se=function(e){return new ee.a(function(t){return setTimeout(t,e)})},ne=function(e,t){return e.reduce(function(e,a){return(e[a[t]]=e[a[t]]||[]).push(a),e},{})},re=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},oe=function(e){if(!e)return!1;var t=BS2AD(e);return new Date(t)<new Date},ie=function(e){if(e&&10===e.length){var t=ae.a.bs2ad(e);return t.year+"-"+(1===t.month.toString().length?"0"+t.month.toString():t.month.toString())+"-"+(1===t.day.toString().length?"0"+t.day.toString():t.day.toString())}},le={name:"school-form",created:function(){var e=this;U().then(function(t){e.schoolTypes=t.body}),_().then(function(t){e.wards=t.body}),V().then(function(t){e.disciplines=t.body})},props:{school:{type:Object,required:!0}},data:function(){return{schoolTypes:[],disciplines:[],wards:[],valid:!1,name:"",id:"",nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=80||"Name must be less than 80 characters"},function(e){return e&&/^[A-z .\-()']+$/g.test(e)||"Please provide valid name"}],emailRules:[function(e){return!!e||"Email is required"},function(e){return e&&re(e)||"Please provide valid email"}],telephoneRules:[function(e){return!!e||"Telephone number or Mobile number is required"},function(e){return e&&/(^9\d{9})$|(^0\d{8})$/.test(e)||"Please provide valid telephone number or mobile number"}],faxRules:[function(e){return!1==!!e||null===e||0===e.length||e&&e.test(/^0\d{8}$/)||"Please provide valid fax number"}],addressRules:[function(e){return!!e||"Address is required"},function(e){return e&&/^[A-z, ]+$/g.test(e)||"Please provide valid address"}],disciplineRules:[function(e){return!!e||"Discipline is required"},function(e){return e&&e.length>0||"Please provide Disciplines"}],schoolTypeRules:[function(e){return!!e||"School Type is required"}]}},methods:{clear:function(){this.$refs.school_form.reset()},disciplineDoneBtn:function(){this.$refs.discipline.isMenuActive=!1,this.$refs.discipline.isFocused=!1,this.goTo("address")},submit:function(){var e=this;this.$validator.validateAll().then(function(t){t?H(Z(e.school)).then(function(t){e.$router.push({name:"admin.schools.index"})}):alert("Already used username",e.errors.collect("username"))})},fetchNewSchoolId:function(){}}},ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"school_form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",[a("v-flex",{attrs:{md5:""}},[a("h3",[e._v("School Data")]),e._v(" "),a("v-autocomplete",{attrs:{items:e.wards,"item-text":"name","item-value":"id",label:"Ward Number*","single-line":""},on:{blur:e.fetchNewSchoolId},model:{value:e.school.locationWardId,callback:function(t){e.$set(e.school,"locationWardId",t)},expression:"school.locationWardId"}}),e._v(" "),a("v-autocomplete",{attrs:{items:e.schoolTypes,"item-text":"name","item-value":"id",rules:e.schoolTypeRules,label:"School Type*","single-line":""},model:{value:e.school.schoolTypeId,callback:function(t){e.$set(e.school,"schoolTypeId",t)},expression:"school.schoolTypeId"}}),e._v(" "),a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.$route.params.id,expression:"$route.params.id"}],attrs:{counter:5,label:"School Id / School Code*",required:"",readonly:""},model:{value:e.school.id,callback:function(t){e.$set(e.school,"id",t)},expression:"school.id"}}),e._v(" "),a("v-text-field",{staticClass:"my-text-uppercase",attrs:{rules:e.nameRules,counter:80,label:"Name*",required:""},model:{value:e.school.name,callback:function(t){e.$set(e.school,"name",t)},expression:"school.name"}}),e._v(" "),a("v-select",{ref:"discipline",attrs:{items:e.disciplines,attach:"",chips:"",label:"Disciplines*","item-text":"name","item-value":"id",multiple:"",rules:e.disciplineRules},model:{value:e.school.schoolHasDisciplinesById,callback:function(t){e.$set(e.school,"schoolHasDisciplinesById",t)},expression:"school.schoolHasDisciplinesById"}},[a("v-list-tile",{attrs:{slot:"append-item"},slot:"append-item"},[a("v-list-tile-content",[a("v-btn",{on:{click:e.disciplineDoneBtn}},[e._v("Done")])],1)],1)],1),e._v(" "),a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("\n        submit\n      ")]),e._v(" "),a("v-btn",{on:{click:e.clear}},[e._v("clear")])],1),e._v(" "),a("v-flex",{attrs:{md5:"","offset-md1":""}},[a("v-text-field",{ref:"address",staticClass:"my-text-uppercase",attrs:{counter:50,label:"Address*",rules:e.addressRules},model:{value:e.school.address,callback:function(t){e.$set(e.school,"address",t)},expression:"school.address"}}),e._v(" "),a("v-text-field",{ref:"email",attrs:{counter:30,label:"Email*",type:"email",rules:e.emailRules},model:{value:e.school.email,callback:function(t){e.$set(e.school,"email",t)},expression:"school.email"}}),e._v(" "),a("v-text-field",{attrs:{counter:30,label:"Fax",rules:e.faxRules,type:"number"},model:{value:e.school.fax,callback:function(t){e.$set(e.school,"fax",t)},expression:"school.fax"}}),e._v(" "),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.$route.params.id?"":"school_telephone",expression:"$route.params.id ? '' : 'school_telephone'"}],attrs:{counter:10,label:"Telephone / Mobile Number*",rules:e.telephoneRules,type:"number","error-messages":e.errors.collect("telephone"),error:e.errors.has("telephone"),"data-vv-name":"telephone"},model:{value:e.school.telephone,callback:function(t){e.$set(e.school,"telephone",t)},expression:"school.telephone"}})],1)],1)],1)},staticRenderFns:[]};var ue=a("VU/8")(le,ce,!1,function(e){a("QYOG")},"data-v-1b86a0e2",null).exports,de={components:{SchoolForm:ue},mounted:function(){this.getDataFromApi()},watch:{query:{handler:function(){this.getDataFromApi()},deep:!0}},data:function(){return{dialog:!1,loading:!0,query:{search:null,rowsPerPage:20},schools:[],deletingItem:null,deleteDialog:!1,totalItems:null,studentsCount:{},headers:[{text:"SN",align:"left",sortable:!1,value:"SN"},{text:"Code",align:"left",sortable:!0,value:"id"},{text:"Name",value:"name"},{text:"Student Count",value:"studentCount"},{text:"Ward",value:"locationWardId",sortable:!0},{text:"Type",value:"schoolTypeId",sortable:!0},{text:"Actions",value:"Actions",sortable:!1}]}},methods:{getDataFromApi:function(){var e=this;return this.loading=!0,T(this.query).then(function(t){e.schools=t.body.schools.content,e.query.totalItems=t.body.schools.totalElements,e.totalItems=t.body.schools.totalElements,e.studentsCount=t.body.studentCount})},deleteItem:function(){var e=this;B(this.deletingItem.id).then(function(t){var a=e.schools.indexOf(e.deletingItem);e.schools.splice(a,1)}).catch(function(e){e&&alert(e.body.message)}),this.deleteDialog=!1},close:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=F()({},e.defaultItem),e.editedIndex=-1},300)},showDeleteDialog:function(e){this.deletingItem=e,this.deleteDialog=!0},loginAsSchool:function(e){this.$auth.impersonate({body:{schoolId:e.id},success:function(){},error:function(){alert("Look like school lacks school admin")},redirect:{name:"school.students.index"}})}}},ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Schools")])]),e._v(" "),a("v-flex",{attrs:{md4:""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.query.search,callback:function(t){e.$set(e.query,"search",t)},expression:"query.search"}})],1),e._v(" "),a("v-flex",{attrs:{"justify-end":""}},[a("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.schools.create"}}},[a("v-icon",[e._v("add")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"400"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Are you sure?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(t){e.deleteDialog=!1}}},[e._v("\n          No\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.deleteItem}},[e._v("\n          Yes\n        ")])],1)],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.schools,pagination:e.query,"rows-per-page-items":[20,50,100],"total-items":e.totalItems},on:{"update:pagination":function(t){e.query=t}},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n        "+e._s(t.header.text)+"\n      ")]),e._v(" "),a("span",[e._v("\n        "+e._s(t.header.text)+"\n      ")])])]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(e.query.rowsPerPage*(e.query.page-1)+t.index+1))]),e._v(" "),a("td",[e._v(e._s(t.item.id))]),e._v(" "),a("td",[e._v(e._s(t.item.name))]),e._v(" "),a("td",[e._v(e._s(e.studentsCount[t.item.id]))]),e._v(" "),a("td",[e._v(e._s(t.item.locationWardId))]),e._v(" "),a("td",[e._v(e._s(t.item.schoolTypeId))]),e._v(" "),a("td",[a("v-btn",{attrs:{danger:"",flat:""},on:{click:function(a){e.showDeleteDialog(t.item)}}},[a("v-icon",[e._v("delete")])],1),e._v(" "),a("v-btn",{attrs:{info:"",flat:""},on:{click:function(a){e.loginAsSchool(t.item)}}},[a("v-icon",[e._v("person_outline")])],1),e._v(" "),a("v-btn",{attrs:{to:{name:"admin.schools.edit",params:{id:t.item.id}},primary:"",flat:""}},[a("v-icon",[e._v("create")])],1)],1)]}}])})],1)},staticRenderFns:[]};var me=a("VU/8")(de,ve,!1,function(e){a("5pl2")},"data-v-e7e67758",null).exports,he={components:{SchoolForm:ue},created:function(){},data:function(){return{blankSchool:{id:null,name:"",schoolTypeId:"",email:null,fax:null,telephone:null,pobox:null,url:null,address:null,schoolHasDisciplinesById:[]}}}},fe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Add New School")])]),this._v(" "),t("v-flex",{attrs:{md1:""}},[t("v-btn",{attrs:{fab:"",to:{name:"admin.schools.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("school-form",{attrs:{school:this.blankSchool}})],1)},staticRenderFns:[]};var pe=a("VU/8")(he,fe,!1,function(e){a("TDBo")},"data-v-789a4cc8",null).exports,be={components:{SchoolForm:ue},watch:{$route:function(e,t){this.created()}},created:function(){var e=this;W(this.$route.params.id).then(function(t){e.school=Q(t.body)})},data:function(){return{school:{}}}},_e={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Edit School")])]),this._v(" "),t("v-flex",{attrs:{md1:""}},[t("v-btn",{attrs:{fab:"",to:{name:"admin.schools.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("school-form",{attrs:{school:this.school}})],1)},staticRenderFns:[]};var xe=a("VU/8")(be,_e,!1,function(e){a("UIFl")},"data-v-364e26ae",null).exports,ge={created:function(){var e=this;V().then(function(t){e.items=t.body}),"superuser"===this.$auth.user().username&&this.headers.push({text:"Actions",value:"actions",width:"30%",sortable:!1})},data:function(){return{search:"",dialog:!1,deletingItem:null,headers:[{text:"Id",align:"left",sortable:!0,value:"id"},{text:"Name",value:"name"}],items:[]}},methods:{deleteItem:function(){var e=this;Y(this.deletingItem.id).then(function(t){var a=e.items.indexOf(e.deletingItem);e.items.splice(a,1),e.dialog=!1}).catch(function(t){e.dialog=!1,alert("Discipline is attached with school")})},showDeleteDialog:function(e){this.deletingItem=e,this.dialog=!0}}},ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{staticStyle:{"margin-bottom":"20px"},attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Disciplines")])]),e._v(" "),a("v-flex",{attrs:{md4:""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("v-flex",{attrs:{"justify-end":""}},["superuser"===e.$auth.user().username?a("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.disciplines.create"}}},[a("v-icon",[e._v("add")])],1):e._e()],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"400"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Are you sure?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(t){e.dialog=!1}}},[e._v("\n          No\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.deleteItem}},[e._v("\n          Yes\n        ")])],1)],1)],1),e._v(" "),a("v-layout",[a("v-flex",{attrs:{md8:"","offset-md2":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"rows-per-page-items":[-1],search:e.search,"hide-actions":""},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n        "+e._s(t.header.text)+"\n      ")]),e._v(" "),a("span",[e._v("\n        "+e._s(t.header.text)+"\n      ")])])]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),e._v(" "),a("td",[e._v(e._s(t.item.name))]),e._v(" "),"superuser"===e.$auth.user().username?a("td",[a("v-btn",{attrs:{danger:"",flat:""},on:{click:function(a){e.showDeleteDialog(t.item)}}},[a("v-icon",[e._v("delete")])],1),a("v-btn",{attrs:{to:{name:"admin.disciplines.edit",params:{id:t.item.id}},primary:"",flat:""}},[a("v-icon",[e._v("create")])],1)],1):e._e()]}}])})],1)],1)],1)},staticRenderFns:[]};var we=a("VU/8")(ge,ye,!1,function(e){a("85AN")},"data-v-6c95d521",null).exports,ke=a("BO1k"),Se=a.n(ke),je=a("lHA8"),De=a.n(je),Ie=function(){return s.default.http.get("v1/subjects")},Re=function(e,t){return s.default.http.post("v1/subjects",e,{params:{oldId:t}})},$e=function(e){return s.default.http.delete("v1/subjects/"+e)},Ne=function(e){return s.default.http.get("v1/subjects/"+e)},Ce=function(){return s.default.http.get("v1/subjects/group-by-subject-order")},Ee=function(){return s.default.http.get("v1/school/subjects/subject-with-practical")},Pe=function(e){return s.default.http.get("v1/school/subjects/subject-list",{params:{schoolId:e}})},Me=function(e){return s.default.http.get("v1/subjects/"+e+"/school-listing")},Fe=function(e){var t=[],a=function(a){e[a].forEach(function(e){t.push({id:null,disciplineId:null,subjectId:e.id,subjectOrder:a})})};for(var s in e)a(s);return t},Te=function(e){var t={};return e&&e.forEach(function(e){t[e.subjectOrder]?t[e.subjectOrder].push(e.subjectsBySubjectId):t[e.subjectOrder]=[e.subjectsBySubjectId]}),t},He={name:"discipline-form",created:function(){var e=this;d.$on("admin.discipline.disabled-subjects",function(){var t=[];for(var a in e.discipline.disciplineHasSubjectsById)e.discipline.disciplineHasSubjectsById[a].forEach(function(e){t.push(e.id)});t.forEach(function(t){e.subjects.forEach(function(e){e.id===t&&(e.disabled=!0)})})}),Ce().then(function(t){var a=[];for(var s in t.body)a.push({header:"Subject Order "+s}),t.body[s].forEach(function(e){a.push(e)}),a.push({divider:!0});e.subjects=a,e.$route.params.id&&d.$emit("admin.discipline.disabled-subjects")})},watch:{discipline:function(e,t){e.subjectCount!==t.subjectCount&&(this.subjectCountChangeHandler(),this.$route.params.id&&d.$emit("admin.discipline.disabled-subjects"))}},props:{discipline:{type:Object,required:!0}},data:function(){return{valid:!1,subjects:[],subjectCounter:[],name:"",id:"",selectedSubjects:new De.a,nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=30||"Name must be less than 30 characters"}],startingNumberRules:[function(e){return!!e||"Name is required"}],subjectCountRules:[function(e){return!!e||"Subject Count is required"},function(e){return e&&parseInt(e)<13||"Subject Count must be less than 13"}],subjectRules:[function(e){return!!e||"At least one Subject is required"},function(e){return e&&e.length>0||"At least one Subject is required"}]}},methods:{clear:function(){this.$refs.discipline_form.reset()},subjectCountChangeHandler:function(){var e={};this.subjectCounter=[];for(var t=1;t<=this.discipline.subjectCount;t++)e[t]=this.discipline.disciplineHasSubjectsById[t]?this.discipline.disciplineHasSubjectsById[t]:[],this.subjectCounter.push(t);this.discipline.disciplineHasSubjectsById=e},removeDisciplineHasSubject:function(e,t){var a=this.discipline.disciplineHasSubjectsById[t].filter(function(t){return t.id===e.id}),s=!0,n=!1,r=void 0;try{for(var o,i=Se()(a);!(s=(o=i.next()).done);s=!0){var l=o.value;this.discipline.disciplineHasSubjectsById[t].splice(this.discipline.disciplineHasSubjectsById[t].indexOf(l),1)}}catch(e){n=!0,r=e}finally{try{!s&&i.return&&i.return()}finally{if(n)throw r}}e.disabled=!1},submit:function(){var e=this,t=X()({},this.discipline);t.disciplineHasSubjectsById=Fe(t.disciplineHasSubjectsById),z(t).then(function(t){e.$router.push({name:"admin.disciplines.index"})})},changeHandler:function(e){e.forEach(function(e){e.disabled=!0})}}},Be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",[a("v-flex",{attrs:{md5:""}},[a("v-form",{ref:"discipline_form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{staticClass:"my-text-uppercase",attrs:{rules:e.nameRules,counter:30,label:"Name",required:""},model:{value:e.discipline.name,callback:function(t){e.$set(e.discipline,"name",t)},expression:"discipline.name"}}),e._v(" "),a("v-checkbox",{attrs:{label:"Is Technical"},model:{value:e.discipline.isTechnical,callback:function(t){e.$set(e.discipline,"isTechnical",t)},expression:"discipline.isTechnical"}}),e._v(" "),a("v-text-field",{attrs:{type:"number",label:"Subject Count",rules:e.subjectCountRules},on:{change:e.subjectCountChangeHandler},model:{value:e.discipline.subjectCount,callback:function(t){e.$set(e.discipline,"subjectCount",t)},expression:"discipline.subjectCount"}}),e._v(" "),e._l(e.subjectCounter,function(t){return a("v-autocomplete",{key:t,attrs:{items:e.subjects,"return-object":"",chips:"",label:"Subject for position "+t,"item-text":"name",multiple:"",rules:e.subjectRules},on:{change:e.changeHandler},scopedSlots:e._u([{key:"selection",fn:function(s){return[a("v-chip",{staticClass:"chip--select-multi",attrs:{selected:s.selected,close:""},on:{input:function(a){e.removeDisciplineHasSubject(s.item,t)}}},[e._v("\n            "+e._s(s.item.name)+"\n          ")])]}},{key:"item",fn:function(t){return["object"!=typeof t.item?[a("v-list-tile-content",{domProps:{textContent:e._s(t.item)}})]:[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.item.name)}})],1)]]}}]),model:{value:e.discipline.disciplineHasSubjectsById[t],callback:function(a){e.$set(e.discipline.disciplineHasSubjectsById,t,a)},expression:"discipline.disciplineHasSubjectsById[counter]"}})}),e._v(" "),a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("\n        submit\n      ")]),e._v(" "),a("v-btn",{on:{click:e.clear}},[e._v("clear")])],2)],1),e._v(" "),a("v-flex",{attrs:{md5:"","offset-md1":""}},[a("v-text-field",{attrs:{counter:1,label:"Regular SymbolNo Starting",required:"",rules:e.startingNumberRules},model:{value:e.discipline.regularSymbolNoStarting,callback:function(t){e.$set(e.discipline,"regularSymbolNoStarting",t)},expression:"discipline.regularSymbolNoStarting"}}),e._v(" "),a("v-text-field",{attrs:{counter:1,label:"Exempted SymbolNo Starting",rules:e.startingNumberRules},model:{value:e.discipline.exemptSymbolNoStarting,callback:function(t){e.$set(e.discipline,"exemptSymbolNoStarting",t)},expression:"discipline.exemptSymbolNoStarting"}})],1)],1)},staticRenderFns:[]};var qe=a("VU/8")(He,Be,!1,function(e){a("Qq3K")},"data-v-6ada68d6",null).exports,We={components:{DisciplineForm:qe},created:function(){},data:function(){return{blankDiscipline:{id:null,name:"",disciplineHasSubjectsById:[]}}}},Ae={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Add New Discipline")])]),this._v(" "),t("v-flex",{attrs:{md2:""}},[t("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.disciplines.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("discipline-form",{attrs:{discipline:this.blankDiscipline}})],1)},staticRenderFns:[]};var Oe=a("VU/8")(We,Ae,!1,function(e){a("Ijr/")},"data-v-430f2884",null).exports,Le={components:{DisciplineForm:qe},data:function(){return{blankDiscipline:{disciplineHasSubjectsById:{}}}},watch:{$route:function(e,t){this.created()}},created:function(){var e=this;G(this.$route.params.id).then(function(t){e.blankDiscipline=t.body,e.blankDiscipline.disciplineHasSubjectsById=Te(e.blankDiscipline.disciplineHasSubjectsById),se(300).then(function(){return d.$emit("admin.discipline.disabled-subjects")})})}},Ue={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Edit Discipline")])]),this._v(" "),t("v-flex",{attrs:{md2:""}},[t("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.disciplines.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("discipline-form",{attrs:{discipline:this.blankDiscipline}})],1)},staticRenderFns:[]},Ve=a("VU/8")(Le,Ue,!1,null,null,null).exports,ze={created:function(){var e=this;Ie().then(function(t){e.items=t.body}),"superuser"===this.$auth.user().username&&this.headers.push({text:"Actions",value:"actions",width:"30%",sortable:!1})},data:function(){return{search:"",schoolHeader:[{text:"Code",align:"left",sortable:!0,value:"id",width:"5%"},{text:"Name",align:"left",sortable:!0,value:"name",width:"95%"}],headers:[{text:"SN",align:"left",sortable:!1,value:"SN"},{text:"Subject Code",align:"left",sortable:!0,value:"id",width:"5%"},{text:"Name",value:"name",width:"40%"},{text:"Short Name",value:"subjectShortcode",width:"5%"},{text:"Has Practical",value:"hasPractical",width:"3%"},{text:"Full Marks",value:"fullMarks",width:"3%"},{text:"Credit Hour",value:"creditHour",width:"3%"},{text:"Pr Full Marks",value:"prFullMarks",width:"3%"},{text:"School",value:"actions",width:"3%"}],items:[],deletingItem:null,deleteDialog:!1,schoolList:[],schoolListDialog:!1}},methods:{deleteItem:function(){var e=this;$e(this.deletingItem.id).then(function(t){var a=e.items.indexOf(e.deletingItem);e.items.splice(a,1),e.deleteDialog=!1}).catch(function(e){e&&alert("Subject is attached with other entity")})},loadSchoolData:function(e){var t=this;Me(e).then(function(e){t.schoolList=e.body,t.schoolListDialog=!0})},showDeleteDialog:function(e){this.deletingItem=e,this.deleteDialog=!0}}},Ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{staticStyle:{"margin-bottom":"20px"},attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Subjects")])]),e._v(" "),a("v-flex",{attrs:{md4:""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("v-flex",{attrs:{"justify-end":""}},["superuser"===e.$auth.user().username?a("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.subjects.create"}}},[a("v-icon",[e._v("add")])],1):e._e()],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"400"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Are you sure?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(t){e.deleteDialog=!1}}},[e._v("\n          No\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.deleteItem}},[e._v("\n          Yes\n        ")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"600"},model:{value:e.schoolListDialog,callback:function(t){e.schoolListDialog=t},expression:"schoolListDialog"}},[a("v-layout",{staticStyle:{"background-color":"white"}},[a("v-flex",{attrs:{md12:""}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("School List")])],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",staticStyle:{margin:"10px"},attrs:{headers:e.schoolHeader,items:e.schoolList,"rows-per-page-items":[-1],"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),e._v(" "),a("td",[e._v(e._s(t.item.name))])]}}])})],1)],1),e._v(" "),a("v-card",[a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary darken-1",flat:""},on:{click:function(t){e.schoolListDialog=!1}}},[e._v("Close")])],1)],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"rows-per-page-items":[-1],search:e.search,"hide-actions":""},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n        "+e._s(t.header.text)+"\n      ")]),e._v(" "),a("span",[e._v("\n        "+e._s(t.header.text)+"\n      ")])])]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.index+1))]),e._v(" "),a("td",[e._v(e._s(t.item.id))]),e._v(" "),a("td",[e._v(e._s(t.item.name))]),e._v(" "),a("td",[e._v(e._s(t.item.subjectShortcode))]),e._v(" "),a("td",[t.item.hasPractical?a("v-icon",[e._v("check")]):a("v-icon",[e._v("close")])],1),e._v(" "),a("td",[e._v(e._s(t.item.fullMarks))]),e._v(" "),a("td",[e._v(e._s(t.item.creditHour))]),e._v(" "),a("td",[e._v(e._s(t.item.prFullMarks))]),e._v(" "),a("td",[a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(a){e.loadSchoolData(t.item.id)}}},[e._v("Listing")])],1),e._v(" "),"superuser"===e.$auth.user().username?a("td",[a("v-btn",{attrs:{danger:"",xs:"",flat:"",icon:""},on:{click:function(a){e.showDeleteDialog(t.item)}}},[a("v-icon",[e._v("delete")])],1),e._v(" "),a("v-btn",{attrs:{to:{name:"admin.subjects.edit",params:{id:t.item.id}},xs:"",primary:"",flat:"",icon:""}},[a("v-icon",[e._v("create")])],1)],1):e._e()]}}])})],1)},staticRenderFns:[]};var Ge=a("VU/8")(ze,Ye,!1,function(e){a("HXSZ")},"data-v-90cad4b6",null).exports,Je={name:"subject-form",created:function(){this.oldId=this.$route.params.id},watch:{"subject.hasPractical":{handler:function(e,t){void 0!==t&&this.$refs.subject_form.validate()},deep:!0,immediate:!0}},props:{subject:{type:Object,required:!0}},data:function(){var e=this;return{oldId:null,valid:!1,name:"",id:"",nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=100||"Name must be less than 100 characters"},function(e){return e&&/^[A-Za-z .]+$/g.test(e)||"Please provide valid name"}],codeRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=6||"Name must be less than 6 characters"},function(e){return e&&/^[A-Za-z0-9]+$/gm.test(e)||"Please provide valid name"}],fullMarksRules:[function(e){return!!e||"Full marks is required"},function(e){return e&&e<=100||"Full marks must be less than 100"}],passMarksRules:[function(e){return!!e||"Pass marks is required"},function(t){return t&&t<parseInt(e.subject.fullMarks)||"Pass marks must be less than full marks"}],creditHourRules:[function(e){return!!e||"Credit Hour is required"}],prFullMarksRules:[function(t){return!e.subject.hasPractical||!!t||"Practical Full marks is required"},function(t){return"false"===e.subject.hasPractical.toString()||t&&t<=parseInt(e.subject.fullMarks)||"Practical Full marks must be less than "+e.subject.fullMarks}],prPassMarksRules:[function(t){return"false"===e.subject.hasPractical.toString()||!!t||"Practical Pass marks is required"},function(t){return"false"===e.subject.hasPractical.toString()||t&&t<parseInt(e.subject.prFullMarks)||"Pass marks must be less than full marks"}]}},methods:{clear:function(){this.$refs.subject_form.reset()},submit:function(){var e=this;Re(this.subject,this.oldId).then(function(t){e.$router.push({name:"admin.subjects.index"})})}}},Xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"subject_form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("v-text-field",{attrs:{counter:6,label:"Subject Code",required:"",rules:e.codeRules},model:{value:e.subject.id,callback:function(t){e.$set(e.subject,"id",t)},expression:"subject.id"}}),e._v(" "),a("v-text-field",{staticClass:"my-text-uppercase",attrs:{rules:e.nameRules,counter:100,label:"Subject Name",required:""},model:{value:e.subject.name,callback:function(t){e.$set(e.subject,"name",t)},expression:"subject.name"}}),e._v(" "),a("v-checkbox",{attrs:{label:"Has Practical"},model:{value:e.subject.hasPractical,callback:function(t){e.$set(e.subject,"hasPractical",t)},expression:"subject.hasPractical"}}),e._v(" "),a("v-text-field",{attrs:{counter:3,label:"TH Full Marks",rules:e.fullMarksRules,required:"",type:"number"},model:{value:e.subject.fullMarks,callback:function(t){e.$set(e.subject,"fullMarks",t)},expression:"subject.fullMarks"}}),e._v(" "),a("v-text-field",{attrs:{counter:2,label:"TH Pass Marks",rules:e.passMarksRules,required:"",type:"number"},model:{value:e.subject.passMarks,callback:function(t){e.$set(e.subject,"passMarks",t)},expression:"subject.passMarks"}}),e._v(" "),a("v-text-field",{attrs:{counter:1,label:"Credit Hour",rules:e.creditHourRules,required:"",type:"number"},model:{value:e.subject.creditHour,callback:function(t){e.$set(e.subject,"creditHour",t)},expression:"subject.creditHour"}}),e._v(" "),a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("\n        submit\n      ")]),e._v(" "),a("v-btn",{on:{click:e.clear}},[e._v("clear")])],1),e._v(" "),a("v-flex",{attrs:{md4:"","offset-md1":""}},[a("v-text-field",{staticClass:"my-text-uppercase",attrs:{counter:6,label:"Short Name",rules:e.nameRules,required:""},model:{value:e.subject.subjectShortcode,callback:function(t){e.$set(e.subject,"subjectShortcode",t)},expression:"subject.subjectShortcode"}}),e._v(" "),a("v-text-field",{attrs:{counter:2,label:"Subject Order",required:"",type:"number"},model:{value:e.subject.subjectOrder,callback:function(t){e.$set(e.subject,"subjectOrder",t)},expression:"subject.subjectOrder"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.subject.hasPractical,expression:"subject.hasPractical"}]},[a("v-text-field",{attrs:{counter:2,label:"Practical Full Marks",rules:e.prFullMarksRules,required:"",type:"number"},model:{value:e.subject.prFullMarks,callback:function(t){e.$set(e.subject,"prFullMarks",t)},expression:"subject.prFullMarks"}}),e._v(" "),a("v-text-field",{attrs:{counter:2,label:"Practical Pass Marks",required:"",type:"number",rules:e.prPassMarksRules},model:{value:e.subject.prPassMarks,callback:function(t){e.$set(e.subject,"prPassMarks",t)},expression:"subject.prPassMarks"}})],1)],1)],1)],1)},staticRenderFns:[]};var Ze=a("VU/8")(Je,Xe,!1,function(e){a("3wR+")},"data-v-0be993fb",null).exports,Qe={components:{SubjectForm:Ze},created:function(){},data:function(){return{hasPractical:null,blankSubject:{id:null,name:"",hasPractical:!1,fullMarks:null}}}},Ke={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Add New Subject")])]),this._v(" "),t("v-flex",{attrs:{md2:""}},[t("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.subjects.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("subject-form",{attrs:{subject:this.blankSubject}})],1)},staticRenderFns:[]};var et=a("VU/8")(Qe,Ke,!1,function(e){a("e7aO")},"data-v-c0ace03a",null).exports,tt={components:{SubjectForm:Ze},data:function(){return{subject:{hasPractical:!1}}},watch:{$route:function(e,t){this.created()}},created:function(){var e=this;Ne(this.$route.params.id).then(function(t){e.subject=t.body,e.hasPractical=t.body.hasPractical})}},at={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Edit Subject")])]),this._v(" "),t("v-flex",{attrs:{md2:""}},[t("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.subjects.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("subject-form",{attrs:{subject:this.subject}})],1)},staticRenderFns:[]},st=a("VU/8")(tt,at,!1,null,null,null).exports,nt=function(e){return s.default.http.get("v1/centres",e)},rt=function(e){return s.default.http.post("v1/centres",e)},ot=function(e){return s.default.http.delete("v1/centres/"+e)},it=function(e){return s.default.http.get("v1/centres/"+e)},lt=function(e){return s.default.http.get("v1/centres/search-for-centre-creation",{params:e})},ct=function(e){return s.default.http.get("v1/centres/search-for-centre-has-school-creation",{params:e})},ut=function(e){return s.default.http.delete("v1/centres/chs/"+e)},dt=a("uy23"),vt=function(e){var t=[];e.centreHasSchoolsById.forEach(function(e){t.push({id:e.id,schoolId:e.schoolId,centreId:e.centreId,supplementary:e.supplementary})});var a=X()({},e);return delete a.schoolList,a.centreHasSchoolsById=t,a},mt=function(e){return e.centreHasSchoolsById=e.centreHasSchoolsById.map(function(e){return e.centreHasSchoolList=[e.schoolsBySchoolId],e}),e.schoolList=[e.schoolsBySchoolId],e},ht={name:"centre-form",created:function(){},props:{centre:{type:Object,required:!0}},data:function(){return{valid:!1,name:"",id:"",centreCodeRules:[function(e){return!!e||"Centre Code is required"},function(e){return e&&e.length<=4||"Centre Code must be less than 4 characters"}],tableHeaders:[{text:"Name",value:"name",width:"85%",sortable:!1},{text:"Supp",value:"name",width:"5%",sortable:!1},{text:"Actions",value:"action",sortable:!1}],deleteItems:[],deleteDialog:!1,deletingItem:null}},methods:{removeItem:function(){var e=this,t=this.deletingItem;this.centre.centreHasSchoolsById[t].id?ut(this.centre.centreHasSchoolsById[t].id).then(function(a){e.centre.centreHasSchoolsById.splice(t,1),e.deleteDialog=!1}):(this.centre.centreHasSchoolsById.splice(t,1),this.deleteDialog=!1)},showingText:function(e){return e.name+" ("+e.id+")"},clear:function(){this.$refs.centre_form.reset()},addCentreHasSchool:function(){this.centre.centreHasSchoolsById.push({schoolId:null,centreId:null,supplementary:!1,centreHasSchoolList:[]})},loadForSchoolSelection:function(e){var t=this;if(e.target.value.length>3){this.centre.centreHasSchoolsById.map(function(e){return e.schoolId});lt({search:e.target.value.toUpperCase()}).then(function(e){t.centre.schoolList=e.body})}},loadForCentreHasSchoolSelection:function(e,t){var a=this;e.target.value.length>3&&ct({search:e.target.value.toUpperCase()}).then(function(e){a.centre.centreHasSchoolsById[t].centreHasSchoolList=e.body})},disciplineDoneBtn:function(){this.$refs.discipline.isMenuActive=!1,this.$refs.discipline.isFocused=!1,this.goTo("address")},submit:function(){var e=this;rt(vt(this.centre)).then(function(t){e.$router.push({name:"admin.centres.index"})}).catch(function(e){e&&alert(e.body.message)})},showDeleteDialog:function(e){this.deletingItem=e,this.deleteDialog=!0},fetchNewSchoolId:function(){}},directives:{debounce:a.n(dt).a}},ft={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"centre_form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-dialog",{attrs:{"max-width":"400"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Are you sure?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(t){e.deleteDialog=!1}}},[e._v("\n          No\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.removeItem}},[e._v("\n          Yes\n        ")])],1)],1)],1),e._v(" "),a("v-layout",[a("v-flex",{attrs:{md8:""}},[a("v-autocomplete",{directives:[{name:"debounce",rawName:"v-debounce",value:1e3,expression:"1000"}],attrs:{items:e.centre.schoolList,"item-text":e.showingText,"item-value":"id",label:"Centre School","single-line":"",md4:""},nativeOn:{input:function(t){return e.loadForSchoolSelection(t)}},model:{value:e.centre.schoolId,callback:function(t){e.$set(e.centre,"schoolId",t)},expression:"centre.schoolId"}}),e._v(" "),a("v-text-field",{attrs:{label:"Centre Code",disabled:""},model:{value:e.centre.centreCode,callback:function(t){e.$set(e.centre,"centreCode",t)},expression:"centre.centreCode"}}),e._v(" "),a("v-btn",{staticStyle:{float:"right"},on:{click:e.addCentreHasSchool}},[e._v("Add School Inside Centre")]),e._v(" "),a("v-data-table",{staticClass:"elevation-2 mt20",attrs:{headers:e.tableHeaders,items:e.centre.centreHasSchoolsById,"hide-actions":""},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n        "+e._s(t.header.text)+"\n      ")]),e._v(" "),a("span",[e._v("\n        "+e._s(t.header.text)+"\n      ")])])]}},{key:"items",fn:function(t){return[a("td",[a("v-autocomplete",{directives:[{name:"debounce",rawName:"v-debounce",value:1e3,expression:"1000"}],attrs:{items:t.item.centreHasSchoolList,"item-text":e.showingText,"item-value":"id",label:"School inside Centre"},nativeOn:{input:function(a){e.loadForCentreHasSchoolSelection(a,t.index)}},model:{value:t.item.schoolId,callback:function(a){e.$set(t.item,"schoolId",a)},expression:"props.item.schoolId"}})],1),e._v(" "),a("td",[a("v-checkbox",{model:{value:t.item.supplementary,callback:function(a){e.$set(t.item,"supplementary",a)},expression:"props.item.supplementary"}})],1),e._v(" "),a("td",[a("v-btn",{staticClass:"error",on:{click:function(a){e.showDeleteDialog(t.index)}}},[a("v-icon",[e._v("close")])],1)],1)]}}])}),e._v(" "),a("div",{staticClass:"mt20"},[a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("\n          submit\n        ")]),e._v(" "),a("v-btn",{on:{click:e.clear}},[e._v("clear")])],1)],1)],1)],1)},staticRenderFns:[]};var pt=a("VU/8")(ht,ft,!1,function(e){a("Xu5H")},"data-v-10ef8aa6",null).exports,bt={components:{CentreForm:pt},mounted:function(){this.getDataFromApi()},watch:{pagination:{handler:function(){this.getDataFromApi()},deep:!0}},data:function(){return{dialog:!1,loading:!0,pagination:{},totalSchools:0,centres:[],search:"",deletingItem:null,deleteDialog:!1,headers:[{text:"SN",align:"left",sortable:!1,value:"sn"},{text:"Code",align:"left",sortable:!0,value:"centreCode"},{text:"Name",value:"schoolsBySchoolId.name"},{text:"School List",value:"schoolList"},{text:"Actions",value:"Actions"}]}},methods:{getDataFromApi:function(){var e=this;return this.loading=!0,nt(this.pagination).then(function(t){e.centres=t.body})},searchFunc:function(){var e=this;return this.centres.filter(function(t){var a=e.search.toUpperCase();return-1!==t.schoolsBySchoolId.name.search(a)||-1!==t.centreCode.toString().search(a)})},deleteItem:function(){var e=this;ot(this.deletingItem.id).then(function(t){var a=e.centres.indexOf(e.deletingItem);e.centres.splice(a,1)}),this.deleteDialog=!1},close:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=F()({},e.defaultItem),e.editedIndex=-1},300)},showDeleteDialog:function(e){this.deletingItem=e,this.deleteDialog=!0}}},_t={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Centres")])]),e._v(" "),a("v-flex",{attrs:{md4:""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("v-flex",{attrs:{"justify-end":""}},[a("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.centres.create"}}},[a("v-icon",[e._v("add")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"400"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Are you sure?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(t){e.deleteDialog=!1}}},[e._v("\n          No\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.deleteItem}},[e._v("\n          Yes\n        ")])],1)],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.centres,search:e.search,"custom-filter":e.searchFunc},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n        "+e._s(t.header.text)+"\n      ")]),e._v(" "),a("span",[e._v("\n        "+e._s(t.header.text)+"\n      ")])])]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.index+1))]),e._v(" "),a("td",[e._v(e._s(t.item.centreCode))]),e._v(" "),a("td",[e._v(e._s(t.item.schoolsBySchoolId.name)+"["+e._s(t.item.schoolsBySchoolId.id)+"]  ("+e._s(t.item.schoolsBySchoolId.address)+")")]),e._v(" "),a("td",e._l(t.item.centreHasSchoolsById,function(t,s){return a("p",[e._v(e._s(s+1)+") "+e._s(t.schoolsBySchoolId.name)+"["+e._s(t.schoolsBySchoolId.id)+"] ("+e._s(t.schoolsBySchoolId.address)+")")])})),e._v(" "),a("td",[a("v-btn",{attrs:{danger:"",flat:""},on:{click:function(a){e.showDeleteDialog(t.item)}}},[a("v-icon",[e._v("delete")])],1),e._v(" "),a("v-btn",{attrs:{to:{name:"admin.centres.edit",params:{id:t.item.id}},primary:"",flat:""}},[a("v-icon",[e._v("create")])],1)],1)]}}])})],1)},staticRenderFns:[]};var xt=a("VU/8")(bt,_t,!1,function(e){a("59gU")},"data-v-3a6f670c",null).exports,gt={components:{CentreForm:pt},created:function(){},data:function(){return{blankCentre:{id:null,schoolId:"",centreCode:"",schoolList:[],centreHasSchoolsById:[{schoolId:null,centreId:null,centreHasSchoolList:[]}]}}}},yt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Add New Centre")])]),this._v(" "),t("v-flex",{attrs:{md1:""}},[t("v-btn",{attrs:{fab:"",to:{name:"admin.centres.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("centre-form",{attrs:{centre:this.blankCentre}})],1)},staticRenderFns:[]};var wt=a("VU/8")(gt,yt,!1,function(e){a("5rdb")},"data-v-60e76f75",null).exports,kt={components:{CentreForm:pt},watch:{$route:function(e,t){this.created()}},created:function(){var e=this;it(this.$route.params.id).then(function(t){e.centre=mt(t.body)})},data:function(){return{centre:{}}}},St={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Edit Centre")])]),this._v(" "),t("v-flex",{attrs:{md1:""}},[t("v-btn",{attrs:{fab:"",to:{name:"admin.centres.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("centre-form",{attrs:{centre:this.centre}})],1)},staticRenderFns:[]};var jt=a("VU/8")(kt,St,!1,function(e){a("DWgZ")},"data-v-3c232d6d",null).exports,Dt=function(e){return s.default.http.post("v1/admin/users/index",e)},It=function(e){return s.default.http.post("v1/admin/users",e)},Rt=function(e){return s.default.http.post("v1/admin/users/change-password",e)},$t=function(e){return s.default.http.delete("v1/admin/users/"+e)},Nt=function(e){return s.default.http.get("v1/admin/users/"+e)},Ct=function(){return s.default.http.get("v1/admin/users/permissions")},Et=function(e){return s.default.http.get("v1/admin/users/username-exists-or-not",{params:{username:e}})},Pt={mounted:function(){this.getDataFromApi()},watch:{query:{handler:function(){this.getDataFromApi()},deep:!0}},data:function(){return{dialog:!1,loading:!0,query:{search:null,rowsPerPage:20},users:[],deletingItem:null,deleteDialog:!1,totalItems:null,headers:[{text:"SN",align:"left",sortable:!1,value:"sn"},{text:"Username",value:"username"},{text:"Name",value:"name",sortable:!1},{text:"Role",value:"role",sortable:!1},{text:"School",value:"school",sortable:!1},{text:"Actions",value:"Actions",sortable:!1}]}},methods:{getDataFromApi:function(){var e=this;return this.loading=!0,Dt(this.query).then(function(t){e.users=t.body.content,e.totalItems=t.body.totalElements})},deleteItem:function(){var e=this;$t(this.deletingItem.id).then(function(t){var a=e.users.indexOf(e.deletingItem);e.users.splice(a,1)}),this.deleteDialog=!1},close:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=F()({},e.defaultItem),e.editedIndex=-1},300)},showDeleteDialog:function(e){this.deletingItem=e,this.deleteDialog=!0}}},Mt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Users")])]),e._v(" "),a("v-flex",{attrs:{md4:""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.query.search,callback:function(t){e.$set(e.query,"search",t)},expression:"query.search"}})],1),e._v(" "),a("v-flex",{attrs:{"justify-end":""}},[a("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.users.create"}}},[a("v-icon",[e._v("add")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"400"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Are you sure?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(t){e.deleteDialog=!1}}},[e._v("\n          No\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.deleteItem}},[e._v("\n          Yes\n        ")])],1)],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.users,pagination:e.query,"rows-per-page-items":[20,50,100],"total-items":e.totalItems},on:{"update:pagination":function(t){e.query=t}},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n        "+e._s(t.header.text)+"\n      ")]),e._v(" "),a("span",[e._v("\n        "+e._s(t.header.text)+"\n      ")])])]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(e.query.rowsPerPage*(e.query.page-1)+t.index+1))]),e._v(" "),a("td",[e._v(e._s(t.item.username))]),e._v(" "),a("td",[e._v(e._s(t.item.name))]),e._v(" "),a("td",[e._v(e._s(t.item.role))]),e._v(" "),a("td",[e._v(e._s(t.item.school?t.item.school.name:""))]),e._v(" "),a("td",[t.item.username!==e.$auth.user().username?a("v-btn",{attrs:{danger:"",flat:""},on:{click:function(a){e.showDeleteDialog(t.item)}}},[a("v-icon",[e._v("delete")])],1):e._e(),e._v(" "),"ROLE_ADMIN"!==t.item.role?a("v-btn",{attrs:{to:{name:"admin.users.edit",params:{id:t.item.id}},primary:"",flat:""}},[a("v-icon",[e._v("create")])],1):e._e()],1)]}}])})],1)},staticRenderFns:[]};var Ft=a("VU/8")(Pt,Mt,!1,function(e){a("kJeo")},"data-v-061d619c",null).exports,Tt={name:"user-form",created:function(){var e=this;Ct().then(function(t){e.permissions=t.body,e.mappedPermissions=ne(t.body,"permissionType")})},props:{user:{type:Object,required:!0}},data:function(){return{schoolTypes:[],disciplines:[],wards:[],valid:!1,name:"",id:"",mappedPermissions:{},permissions:[],nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=80||"Name must be less than 80 characters"},function(e){return e&&e.match(/^[A-z ]+$/g)||"Please provide valid name"}],emailRules:[function(e){return!!e||"Email is required"},function(e){return e&&re(e)||"Please provide valid email"}],telephoneRules:[function(e){return!!e||"Telephone number or Mobile number is required"},function(e){return e&&e.match(/(9\d{9})|(0\d{8})/g)||"Please provide valid telephone number or mobile number"}],faxRules:[function(e){return!1==!!e||null===e||0===e.length||e&&e.match(/0\d{8}/g)||"Please provide valid fax number"}],addressRules:[function(e){return!!e||"Address is required"},function(e){return e&&e.match(/^[A-z, ]+$/g)||"Please provide valid address"}]}},methods:{clear:function(){this.$refs.school_form.reset()},disciplineDoneBtn:function(){this.$refs.discipline.isMenuActive=!1,this.$refs.discipline.isFocused=!1,this.goTo("address")},submit:function(){var e=this;It(this.user).then(function(t){e.$router.push({name:"admin.users.index"})})}}},Ht={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"school_form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",[a("v-flex",{attrs:{md5:""}},[a("h3",[e._v("User Data")]),e._v(" "),a("v-text-field",{staticClass:"my-text-uppercase",attrs:{rules:e.nameRules,counter:80,label:"Name",required:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),e._v(" "),a("v-text-field",{attrs:{required:"",label:"Username"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),e._v(" "),a("v-text-field",{attrs:{type:"password",required:"",label:"Password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e._v(" "),a("v-select",{attrs:{items:["ROLE_SCHOOL","ROLE_ADMIN"]},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}}),e._v(" "),"ROLE_SCHOOL"==e.user.role?a("v-text-field",{attrs:{label:"School Id"},model:{value:e.user.schoolId,callback:function(t){e.$set(e.user,"schoolId",t)},expression:"user.schoolId"}}):e._e(),e._v(" "),a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("\n        submit\n      ")]),e._v(" "),a("v-btn",{on:{click:e.clear}},[e._v("clear")])],1),e._v(" "),a("v-flex",{attrs:{md5:"","offset-md1":""}})],1)],1)},staticRenderFns:[]};var Bt={components:{UserForm:a("VU/8")(Tt,Ht,!1,function(e){a("rlM+")},"data-v-4d4b5008",null).exports},created:function(){},data:function(){return{blankUser:{id:null,name:"",schoolTypeId:"",email:null,fax:null,telephone:null,pobox:null,url:null,address:null,schoolHasDisciplinesById:[]}}}},qt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Add User")])]),this._v(" "),t("v-flex",{attrs:{md1:""}},[t("v-btn",{attrs:{fab:"",to:{name:"admin.users.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("user-form",{attrs:{user:this.blankUser}})],1)},staticRenderFns:[]};var Wt=a("VU/8")(Bt,qt,!1,function(e){a("m/gQ")},"data-v-4cc1805f",null).exports,At={created:function(){var e=this;Nt(this.$route.params.id).then(function(t){e.user=t.body})},watch:{$route:function(e,t){this.created()}},data:function(){return{valid:!1,password:null,user:{},passwordRules:[function(e){return!!e||"Password is required"}]}},methods:{changePassword:function(){Rt({userId:this.user.id,password:this.password}).then(function(e){alert("Successfully changed")}).catch(function(e){alert("Something Went Wrong")})}}},Ot={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"school_form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",[a("v-flex",{attrs:{md5:""}},[a("h3",[e._v("Change Password")]),e._v(" "),a("v-text-field",{staticClass:"my-text-uppercase",attrs:{label:"Name",readonly:"",outline:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),e._v(" "),a("v-text-field",{attrs:{required:"",label:"Username",readonly:"",outline:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),e._v(" "),a("v-text-field",{attrs:{type:"password",required:"",label:"Password",rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.changePassword}},[e._v("\n        submit\n      ")])],1)],1)],1)},staticRenderFns:[]};var Lt=a("VU/8")(At,Ot,!1,function(e){a("uwiq")},"data-v-4fac6028",null).exports,Ut=function(e){return s.default.http.post("v1/install",e)},Vt=function(){return s.default.http.get("v1/admin/dashboard")},zt=a("UlOv"),Yt={extends:zt.a,name:"ward-chart-school",props:{value:{type:Object,required:!0}},computed:{requiredData:function(){var e=this,t=[],a=[],s=[];return this.value.wards.forEach(function(n){t.push(e.value.school[n.id]&&e.value.school[n.id].public_s?e.value.school[n.id].public_s:0),a.push(e.value.school[n.id]&&e.value.school[n.id].private_s?e.value.school[n.id].private_s:0),s.push(e.value.school[n.id]&&e.value.school[n.id].total?e.value.school[n.id].total:0)}),{labels:this.value.wards.map(function(e){return e.id}),datasets:[{label:"Public School",backgroundColor:"green",data:t},{label:"Private School",backgroundColor:"orange",data:a},{label:"Total",backgroundColor:"yellow",data:s}]}}},mounted:function(){this.renderChart(this.requiredData,{responsive:!0,layout:{padding:"20px"},scales:{yAxes:[{ticks:{beginAtZero:!0}}]},title:{display:!0,text:"Ward wise School Chart",position:"bottom"}})}},Gt=a("VU/8")(Yt,null,!1,null,null,null).exports,Jt={extends:zt.a,name:"ward-chart-student",props:{value:{type:Object,required:!0}},computed:{requiredData:function(){var e=this,t=[],a=[],s=[];return this.value.wards.forEach(function(n){t.push(e.value.student[n.id]&&e.value.student[n.id].male?e.value.student[n.id].male:0),a.push(e.value.student[n.id]&&e.value.student[n.id].female?e.value.student[n.id].female:0),s.push(e.value.student[n.id]&&e.value.student[n.id].total?e.value.student[n.id].total:0)}),{labels:this.value.wards.map(function(e){return e.id}),datasets:[{label:"Male",backgroundColor:"green",data:t},{label:"Female",backgroundColor:"orange",data:a},{label:"Total",backgroundColor:"yellow",data:s}]}}},mounted:function(){this.renderChart(this.requiredData,{responsive:!0,layout:{padding:"20px"},scales:{yAxes:[{ticks:{beginAtZero:!0}}]},title:{display:!0,text:"Ward wise Student Chart",position:"bottom"}})}},Xt=a("VU/8")(Jt,null,!1,null,null,null).exports,Zt=zt.c.reactiveProp,Qt={extends:zt.b,mixins:[Zt],name:"grade-pie-chart",computed:{requiredData:function(){var e=this.chartData[0],t=this.chartData[1],a=[];return e.forEach(function(e){var s=0;["male","female"].forEach(function(a){s+=t[a]&&t[a][e]?t[a][e]:0}),a.push(s)}),{labels:e,data:a}}},mounted:function(){this.renderChart(this.chartData,{responsive:!0,title:{display:!0,text:"Pie Chart Grade Wise",position:"bottom"}})}},Kt=a("VU/8")(Qt,null,!1,null,null,null).exports,ea=a("Xxa5"),ta=a.n(ea),aa=a("exGp"),sa=a.n(aa),na={downloadSlipForm:function(){var e=this;return sa()(ta.a.mark(function t(){return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.abstractDownload("v1/admin/downloads/slip-form","slip-forms.pdf",{});case 1:case"end":return t.stop()}},t,e)}))()},downloadSupLedger:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sa()(ta.a.mark(function a(){return ta.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.abstractDownload("v1/admin/downloads/sup-ledger","sup-ledger-report.pdf",t);case 1:case"end":return a.stop()}},a,e)}))()},downloadLedger:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sa()(ta.a.mark(function a(){return ta.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.abstractDownload("v1/admin/downloads/ledger","ledger-report.pdf",t);case 1:case"end":return a.stop()}},a,e)}))()},downloadSchoolWiseMarksEntryForm:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sa()(ta.a.mark(function a(){return ta.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.abstractDownload("v1/admin/downloads/school-wise-entry-form","marks-entry-form.pdf",t);case 1:case"end":return a.stop()}},a,e)}))()},downloadSupSchoolWiseMarksEntryForm:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sa()(ta.a.mark(function a(){return ta.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.abstractDownload("v1/admin/downloads/supp-school-wise-entry-form","supp-marks-entry-form.pdf",t);case 1:case"end":return a.stop()}},a,e)}))()},downloadLogisticsReport:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sa()(ta.a.mark(function a(){return ta.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.abstractDownload("v1/admin/downloads/logistics-report","logistics-report.pdf",t);case 1:case"end":return a.stop()}},a,e)}))()},downloadStudentRujuReport:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return sa()(ta.a.mark(function t(){return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.abstractDownload("v1/school/downloads/student-ruju","students-ruju-report.pdf");case 1:case"end":return t.stop()}},t,e)}))()},downloadStudentLedgerForSingleSchoolReport:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return sa()(ta.a.mark(function t(){return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.abstractDownload("v1/school/downloads/ledger","ledger-report.pdf");case 1:case"end":return t.stop()}},t,e)}))()},downloadSubjectRujuReport:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return sa()(ta.a.mark(function t(){return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.abstractDownload("v1/admin/downloads/subject-ruju","subject-ruju-report.pdf");case 1:case"end":return t.stop()}},t,e)}))()},downloadDisciplineRujuReport:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return sa()(ta.a.mark(function t(){return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.abstractDownload("v1/admin/downloads/discipline-ruju","discipline-ruju-report.pdf");case 1:case"end":return t.stop()}},t,e)}))()},downloadSchoolRujuReport:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return sa()(ta.a.mark(function t(){return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.abstractDownload("v1/admin/downloads/school-ruju","school-ruju-report.pdf");case 1:case"end":return t.stop()}},t,e)}))()},downloadCentreWiseSchoolReport:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return sa()(ta.a.mark(function t(){return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.abstractDownload("v1/admin/downloads/centres-report","centre-wise-school-report.pdf");case 1:case"end":return t.stop()}},t,e)}))()},downloadSuppControlListReport:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return sa()(ta.a.mark(function t(){return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.abstractDownload("v1/admin/downloads/supp-control-list","supp-control-list-report.pdf");case 1:case"end":return t.stop()}},t,e)}))()},downloadControlListReport:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return sa()(ta.a.mark(function t(){return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.abstractDownload("v1/admin/downloads/control-list","control-list-report.pdf");case 1:case"end":return t.stop()}},t,e)}))()},downloadPracticalEntryFormReport:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return sa()(ta.a.mark(function t(){return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.abstractDownload("v1/admin/downloads/practical-marks-list","practical-marks-list.pdf");case 1:case"end":return t.stop()}},t,e)}))()},downloadRoutine:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return sa()(ta.a.mark(function t(){return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.abstractDownload("v1/admin/downloads/routine","exam-routine.pdf");case 1:case"end":return t.stop()}},t,e)}))()},downloadMarksMissingRecords:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return sa()(ta.a.mark(function t(){return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.abstractDownload("v1/admin/downloads/marks-missing-records","marks-missing-records.xls");case 1:case"end":return t.stop()}},t,e)}))()},downloadDashboardReport:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sa()(ta.a.mark(function a(){var s,n;return ta.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(n in s={},t)t[n]&&(s[n]=t[n]);e.abstractDownload("v1/admin/downloads/best-school-report","dashboard-report.xls",s);case 3:case"end":return a.stop()}},a,e)}))()},downloadSubjectWiseReport:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sa()(ta.a.mark(function a(){var s,n;return ta.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(n in s={},t)t[n]&&(s[n]=t[n]);e.abstractDownload("v1/admin/downloads/subject-wise-grade-report","subject-wise-report.xls",s);case 3:case"end":return a.stop()}},a,e)}))()},downloadSchoolWiseDetailReport:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sa()(ta.a.mark(function a(){var s,n;return ta.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(n in s={},t)t[n]&&(s[n]=t[n]);e.abstractDownload("v1/admin/downloads/school-wise-detail-report","school-wise-detail-report.pdf",s);case 3:case"end":return a.stop()}},a,e)}))()},downloadSchoolSubjectWiseReport:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sa()(ta.a.mark(function a(){var s,n;return ta.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(n in s={},t)t[n]&&(s[n]=t[n]);e.abstractDownload("v1/admin/downloads/school-wise-subject-grade-report","school-subject-wise-report.xls",s);case 3:case"end":return a.stop()}},a,e)}))()},downloadBestStudentReport:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sa()(ta.a.mark(function a(){var s,n;return ta.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(n in s={},t)t[n]&&(s[n]=t[n]);e.abstractDownload("v1/admin/downloads/best-student-report","best-student-report.xls",s);case 3:case"end":return a.stop()}},a,e)}))()},downloadSymbolNumbersReport:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sa()(ta.a.mark(function a(){var s,n;return ta.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(n in s={},t)t[n]&&(s[n]=t[n]);e.abstractDownload("v1/admin/downloads/symbol-number-list","symbol-number-list.pdf",s);case 3:case"end":return a.stop()}},a,e)}))()},downloadLedgerExcel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.abstractDownload("v1/admin/downloads/ledger-ron-excel","ledger-ron-excel.xls",e?{schoolId:e}:{})},abstractDownload:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return sa()(ta.a.mark(function r(){var o,i,l;return ta.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.default.http.get(e,{params:n,responseType:"arraybuffer"});case 2:o=a.sent,i=new Blob([o.data],{type:o.headers.get("content-type")}),(l=document.createElement("a")).href=window.URL.createObjectURL(i),l.download=t,l.click();case 8:case"end":return a.stop()}},r,a)}))()}},ra={components:{GradePieChart:Kt,WardChartStudent:Xt,WardChartSchool:Gt},created:function(){var e=this;Vt().then(function(t){e.wardWiseTable=t.body,e.gradeWiseData=e.setAllWardData()}),U().then(function(t){e.schoolTypes=t.body,e.schoolTypes.unshift({id:null,name:"All"})}),Ie().then(function(t){e.subjects=t.body,e.subjects.unshift({id:null,name:"All"})})},computed:{refinedWards:function(){var e=this.wardWiseTable.wards.map(function(e){return e.id});return e.unshift("All"),e},refinedWardsForReport:function(){var e=[{text:"All",value:null}];return this.wardWiseTable.wards.map(function(e){return e.id}).forEach(function(t){e.push({text:t,value:t})}),e},publicTotalSchoolCount:function(){var e=0;for(var t in this.wardWiseTable.school)e+=this.wardWiseTable.school[t].public_s;return e},privateTotalSchoolCount:function(){var e=0;for(var t in this.wardWiseTable.school)e+=this.wardWiseTable.school[t].private_s;return e},maleTotalStudentCount:function(){var e=0;for(var t in this.wardWiseTable.student)e+=this.wardWiseTable.student[t].male;return e},femaleTotalStudentCount:function(){var e=0;for(var t in this.wardWiseTable.student)e+=this.wardWiseTable.student[t].female;return e},totalSchoolCount:function(){var e=0;for(var t in this.wardWiseTable.school)e+=this.wardWiseTable.school[t].total;return e},totalStudentCount:function(){var e=0;for(var t in this.wardWiseTable.student)e+=this.wardWiseTable.student[t].total;return e},dataForPie:function(){var e=[],t=this.gradeWiseData;return this.ranges.forEach(function(a){var s=0;["male","female"].forEach(function(e){s+=t[e]&&t[e][a]?t[e][a]:0}),e.push(s)}),{labels:this.ranges,datasets:[{backgroundColor:["#2fc32f","#b0dc0b","#eab404","#de672c","#ec2e2e","#d5429b","#6f52b8","#1c7cd5","#56b9f7","#0ae8eb"],data:e}]}}},data:function(){return{valid:!0,tabActive:0,installationData:{noOfWards:null},selectedWardForTable:"All",wardWiseTable:{wards:[],school:{},student:{}},ranges:["0 - 0.79","0.80 - 1.19","1.20 - 1.59","1.60 - 1.99","2.00 - 2.39","2.40 - 2.79","2.80 - 3.19","3.20 - 3.59","3.60 - 3.99","4","NA"],reportParameters:{ward:null,sex:null,schoolType:null,subject:null,thType:null},stdReportParameters:{ward:null,sex:null,schoolType:null,subject:null,thType:null},thType:[{text:"All",value:null},{text:"Th Only",value:1}],genderValues:[{text:"All",value:null},{text:"Male",value:1},{text:"Female",value:2}],subjects:[],schoolTypes:[],wardWiseHeaders:[{text:"Ward",align:"left",sortable:!0,value:"id"},{text:"School",value:"school",sortable:!1},{text:"Student",value:"student",sortable:!1}],gradeWiseHeaders:[{text:"Range",align:"left",sortable:!1,value:"id"},{text:"Male",value:"male",sortable:!1},{text:"Female",value:"female",sortable:!1},{text:"Total",value:"female",sortable:!1}],gradeWiseData:{}}},methods:{install:function(){var e=this;Ut(this.installationData).then(function(t){e.$store.commit("core/updateMetaByKey",{key:"is_installed",value:"1"})})},setAllWardData:function(){var e=this,t={male:{},female:{}};return["male","female"].forEach(function(a){e.ranges.forEach(function(s){t[a][s]=0,e.wardWiseTable.wards.forEach(function(n){e.wardWiseTable.gradeWise[n.id]&&(t[a][s]+=e.wardWiseTable.gradeWise[n.id][a][s]||0)})})}),t},wardChangeForGradeTable:function(){"All"===this.selectedWardForTable?this.gradeWiseData=this.setAllWardData():this.gradeWiseData=this.wardWiseTable.gradeWise[this.selectedWardForTable]||{}},downloadReport:function(){na.downloadDashboardReport(this.reportParameters)},downloadStdReport:function(){na.downloadBestStudentReport(this.stdReportParameters)}}},oa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:"0"===e.$store.state.core.metas.is_installed,expression:"$store.state.core.metas.is_installed === '0'"}]},[a("v-form",{ref:"subject_form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",[a("v-flex",{attrs:{md4:""}},[a("p",{staticClass:"display-1 font-weight-light"},[e._v("Installation")]),e._v(" "),a("v-text-field",{attrs:{type:"number",label:"No of Wards"},model:{value:e.installationData.noOfWards,callback:function(t){e.$set(e.installationData,"noOfWards",t)},expression:"installationData.noOfWards"}}),e._v(" "),a("v-btn",{on:{click:e.install}},[e._v("Submit")])],1)],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:"",mb40:""}},[a("v-flex",{attrs:{md6:""}},[a("h2",{staticStyle:{"margin-bottom":"20px"}},[e._v("Ward Wise Details")]),e._v(" "),a("v-data-table",{staticClass:"elevation-1",staticStyle:{"text-align":"center",padding:"0px !important"},attrs:{headers:e.wardWiseHeaders,items:e.wardWiseTable.wards,"hide-actions":""},scopedSlots:e._u([{key:"headers",fn:function(t){return[a("tr",[a("th",[e._v("WARD")]),e._v(" "),a("th",{attrs:{colspan:"3"}},[e._v("SCHOOLS")]),e._v(" "),a("th",{attrs:{colspan:"3"}},[e._v("STUDENTS")])]),e._v(" "),a("tr",[a("th"),e._v(" "),a("th",[e._v("Community")]),e._v(" "),a("th",[e._v("Institutional")]),e._v(" "),a("th",[e._v("Total")]),e._v(" "),a("th",[e._v("Male")]),e._v(" "),a("th",[e._v("Female")]),e._v(" "),a("th",[e._v("Total")])])]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),e._v(" "),a("td",[e._v(e._s(e.wardWiseTable.school[t.item.id]&&e.wardWiseTable.school[t.item.id].public_s?e.wardWiseTable.school[t.item.id].public_s:0)+"\n          ")]),e._v(" "),a("td",[e._v(e._s(e.wardWiseTable.school[t.item.id]&&e.wardWiseTable.school[t.item.id].private_s?e.wardWiseTable.school[t.item.id].private_s:0)+"\n          ")]),e._v(" "),a("td",[e._v(e._s(e.wardWiseTable.school[t.item.id]&&e.wardWiseTable.school[t.item.id].total?e.wardWiseTable.school[t.item.id].total:0)+"\n          ")]),e._v(" "),a("td",[e._v(e._s(e.wardWiseTable.student[t.item.id]&&e.wardWiseTable.student[t.item.id].male?e.wardWiseTable.student[t.item.id].male:0)+"\n          ")]),e._v(" "),a("td",[e._v(e._s(e.wardWiseTable.student[t.item.id]&&e.wardWiseTable.student[t.item.id].female?e.wardWiseTable.student[t.item.id].female:0)+"\n          ")]),e._v(" "),a("td",[e._v(e._s(e.wardWiseTable.student[t.item.id]&&e.wardWiseTable.student[t.item.id].total?e.wardWiseTable.student[t.item.id].total:0)+"\n          ")])]}}])},[a("template",{slot:"footer"},[a("tr",[a("td",[a("b",[e._v("Total")])]),e._v(" "),a("td",[e._v(e._s(e.publicTotalSchoolCount))]),e._v(" "),a("td",[e._v(e._s(e.privateTotalSchoolCount))]),e._v(" "),a("td",[e._v(e._s(e.totalSchoolCount))]),e._v(" "),a("td",[e._v(e._s(e.maleTotalStudentCount))]),e._v(" "),a("td",[e._v(e._s(e.femaleTotalStudentCount))]),e._v(" "),a("td",[e._v(e._s(e.totalStudentCount))])])])],2)],1),e._v(" "),a("v-flex",{staticClass:"width-100",attrs:{"offset-md1":"",md5:""}},[a("v-tabs",{model:{value:e.tabActive,callback:function(t){e.tabActive=t},expression:"tabActive"}},[a("v-tab",{key:0,attrs:{ripple:""}},[e._v("\n          School Chart\n        ")]),e._v(" "),a("v-tab",{key:1,attrs:{ripple:""}},[e._v("\n          Student Chart\n        ")]),e._v(" "),a("v-tab-item",{key:0},[e.wardWiseTable.wards.length>0?a("ward-chart-school",{model:{value:e.wardWiseTable,callback:function(t){e.wardWiseTable=t},expression:"wardWiseTable"}}):e._e()],1),e._v(" "),a("v-tab-item",{key:1},[e.wardWiseTable.wards.length>0?a("ward-chart-student",{model:{value:e.wardWiseTable,callback:function(t){e.wardWiseTable=t},expression:"wardWiseTable"}}):e._e()],1)],1)],1)],1),e._v(" "),e._m(0),e._v(" "),a("v-layout",{attrs:{row:"",mb40:""}},[a("v-flex",{attrs:{xs12:"",md6:"","d-flex":""}},[a("h2",{staticStyle:{"margin-bottom":"20px"}},[e._v("Grade Wise Details")]),e._v(" "),a("v-select",{attrs:{items:e.refinedWards,label:"WARD",outline:""},on:{change:e.wardChangeForGradeTable},model:{value:e.selectedWardForTable,callback:function(t){e.selectedWardForTable=t},expression:"selectedWardForTable"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",md6:"","d-flex":""}})],1),e._v(" "),a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md6:""}},[a("v-data-table",{staticClass:"elevation-1",staticStyle:{"text-align":"center",padding:"0px !important"},attrs:{headers:e.gradeWiseHeaders,items:e.ranges,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item))]),e._v(" "),a("td",[e._v(e._s(e.gradeWiseData.male&&e.gradeWiseData.male[t.item]?e.gradeWiseData.male[t.item]:0))]),e._v(" "),a("td",[e._v(e._s(e.gradeWiseData.female&&e.gradeWiseData.female[t.item]?e.gradeWiseData.female[t.item]:0))]),e._v(" "),a("td",[e._v(e._s((e.gradeWiseData.female&&e.gradeWiseData.female[t.item]?e.gradeWiseData.female[t.item]:0)+(e.gradeWiseData.male&&e.gradeWiseData.male[t.item]?e.gradeWiseData.male[t.item]:0)))])]}}])})],1),e._v(" "),a("p",{staticStyle:{"page-break-after":"always"}},[a("span")]),e._v(" "),a("v-flex",{attrs:{"offset-md1":"",md5:""}},[a("grade-pie-chart",{attrs:{chartData:e.dataForPie}})],1)],1),e._v(" "),a("v-layout",{staticClass:"no-print",staticStyle:{"margin-top":"20px"}},[a("h2",[e._v("Download Best School Report")])]),e._v(" "),a("v-layout",{staticClass:"no-print"},[a("v-flex",{attrs:{md1:""}},[a("v-select",{attrs:{items:e.refinedWardsForReport,label:"WARD",outline:""},model:{value:e.reportParameters.ward,callback:function(t){e.$set(e.reportParameters,"ward",t)},expression:"reportParameters.ward"}})],1),e._v(" "),a("v-flex",{attrs:{"offset-md1":"",md2:""}},[a("v-select",{attrs:{items:e.genderValues,label:"GENDER",outline:""},model:{value:e.reportParameters.sex,callback:function(t){e.$set(e.reportParameters,"sex",t)},expression:"reportParameters.sex"}})],1),e._v(" "),a("v-flex",{attrs:{"offset-md1":"",md2:""}},[a("v-select",{attrs:{items:e.schoolTypes,label:"SCHOOL TYPE","item-text":"name","item-value":"id",outline:""},model:{value:e.reportParameters.schoolType,callback:function(t){e.$set(e.reportParameters,"schoolType",t)},expression:"reportParameters.schoolType"}})],1),e._v(" "),a("v-flex",{attrs:{"offset-md1":"",md2:""}},[a("v-select",{attrs:{items:e.subjects,label:"SUBJECT","item-text":"name","item-value":"id",outline:""},model:{value:e.reportParameters.subject,callback:function(t){e.$set(e.reportParameters,"subject",t)},expression:"reportParameters.subject"}})],1),e._v(" "),a("v-flex",{attrs:{"offset-md1":"",md2:""}},[a("v-select",{attrs:{items:e.thType,label:"MARKS TYPE",outline:""},model:{value:e.reportParameters.thType,callback:function(t){e.$set(e.reportParameters,"thType",t)},expression:"reportParameters.thType"}})],1),e._v(" "),a("v-flex",{attrs:{"offset-md1":"",md2:""}},[a("v-btn",{on:{click:e.downloadReport}},[e._v("DOWNLOAD")])],1)],1),e._v(" "),a("v-layout",{staticClass:"no-print",staticStyle:{"margin-top":"20px"}},[a("h2",[e._v("Download Best Student Report")])]),e._v(" "),a("v-layout",{staticClass:"no-print"},[a("v-flex",{attrs:{md1:""}},[a("v-select",{attrs:{items:e.refinedWardsForReport,label:"WARD",outline:""},model:{value:e.stdReportParameters.ward,callback:function(t){e.$set(e.stdReportParameters,"ward",t)},expression:"stdReportParameters.ward"}})],1),e._v(" "),a("v-flex",{attrs:{"offset-md1":"",md2:""}},[a("v-select",{attrs:{items:e.genderValues,label:"GENDER",outline:""},model:{value:e.stdReportParameters.sex,callback:function(t){e.$set(e.stdReportParameters,"sex",t)},expression:"stdReportParameters.sex"}})],1),e._v(" "),a("v-flex",{attrs:{"offset-md1":"",md2:""}},[a("v-select",{attrs:{items:e.schoolTypes,label:"SCHOOL TYPE","item-text":"name","item-value":"id",outline:""},model:{value:e.stdReportParameters.schoolType,callback:function(t){e.$set(e.stdReportParameters,"schoolType",t)},expression:"stdReportParameters.schoolType"}})],1),e._v(" "),a("v-flex",{attrs:{"offset-md1":"",md2:""}},[a("v-select",{attrs:{items:e.subjects,label:"SUBJECT","item-text":"name","item-value":"id",outline:""},model:{value:e.stdReportParameters.subject,callback:function(t){e.$set(e.stdReportParameters,"subject",t)},expression:"stdReportParameters.subject"}})],1),e._v(" "),a("v-flex",{attrs:{"offset-md1":"",md2:""}},[a("v-select",{attrs:{items:e.thType,label:"MARKS TYPE",outline:""},model:{value:e.stdReportParameters.thType,callback:function(t){e.$set(e.stdReportParameters,"thType",t)},expression:"stdReportParameters.thType"}})],1),e._v(" "),a("v-flex",{attrs:{"offset-md1":"",md2:""}},[a("v-btn",{on:{click:e.downloadStdReport}},[e._v("DOWNLOAD")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticStyle:{"page-break-after":"always"}},[t("span")])}]};var ia=a("VU/8")(ra,oa,!1,function(e){a("5uXR"),a("3tJC")},"data-v-22c51a93",null).exports,la=function(){return s.default.http.get("v1/settings")},ca=function(e){return s.default.http.post("v1/settings",e)},ua={name:"nepali-date-picker",mounted:function(){var e=this;window.$(e.$el).nepaliDatePicker({onChange:function(){e.$emit("input",e.$el.value)}})},beforeDestroy:function(){window.$(this.$el).remove()},props:["value"],data:function(){return{pickedDate:this.value}},methods:{blurEvent:function(e){var t=this;this.$nextTick(function(){t.$emit("input",e.target.value)})}}},da={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedDate,expression:"pickedDate"}],attrs:{id:e.errors.vmId,type:"text"},domProps:{value:e.pickedDate},on:{change:e.blurEvent,input:function(t){t.target.composing||(e.pickedDate=t.target.value)}}})},staticRenderFns:[]};var va={components:{NepaliDatePicker:a("VU/8")(ua,da,!1,function(e){a("XyAN")},"data-v-321aee0c",null).exports},created:function(){var e=this;la().then(function(t){e.metas=t.body})},computed:{modifiedGrades:function(){var e=[];for(var t in this.grades)e.push({text:this.grades[t],value:t});return e}},data:function(){return{grades:{"4.0":"A+",3.6:"A",3.2:"B+",2.8:"B",2.4:"C+","2.0":"C",1.6:"D+",1.2:"D",.8:"E"},metas:[],valid:!0,nameRules:[function(e){return!!e||"Municipal Name is required"}],nepaliDate:"2075-11-29",availableMarksheetTemplates:[{text:"Default",value:"default"},{text:"Without Photo",value:"without_photo"},{text:"New Template",value:"melamchi"},{text:"Indrawati Template",value:"indrawati"},{text:"Aathbiskot Template",value:"aathbiskot"},{text:"Aathbiskot 5 Template",value:"aathbiskot_5"},{text:"Budhanilkantha Template",value:"budhanilkantha"},{text:"Bidur Template",value:"bidur"},{text:"Besishahar Template",value:"besishahar"},{text:"Madhyanepal Template",value:"madhyanepal"},{text:"Deumai Template",value:"deumai"},{text:"Changunarayan Template",value:"changunarayan"},{text:"Ghorahi Template",value:"ghorahi"},{text:"Mangsebung Template",value:"mangsebung"}]}},methods:{clear:function(){this.$refs.subject_form.reset()},submit:function(){ca(this.metas).then(function(e){d.$emit("load.metas"),alert("Settings Saved")})}}},ma={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"subject_form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",[a("v-flex",{attrs:{md4:""}},[e._l(e.metas,function(t){return a("div",["operating_year"===t.key?a("div",[a("v-text-field",{attrs:{label:"Operating Year",rules:e.nameRules},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"municipal_name"===t.key?a("div",[a("v-text-field",{attrs:{label:"Municipal Name",rules:e.nameRules},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"municipal_office_name"===t.key?a("div",[a("v-text-field",{attrs:{label:"Municipal Office Name",rules:e.nameRules},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"two_tab_based_entry"===t.key?a("div",[a("v-checkbox",{attrs:{label:"Two tab based entry",color:"red",value:"true"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"result_published"===t.key?a("div",[a("v-checkbox",{attrs:{label:"Published Result",color:"red",value:"true"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"manual_symbol_number"===t.key?a("div",[a("v-checkbox",{attrs:{label:"Manual Symbol Number Entry",color:"red",value:"true"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"th_marks_entry_school_side"===t.key?a("div",[a("v-checkbox",{attrs:{label:"TH marks entry school side",color:"red",value:"true"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"supp_marks_entry_school_side"===t.key?a("div",[a("v-checkbox",{attrs:{label:"Supplementary marks entry school side",color:"red",value:"true"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"use_supp_marks_for_calculation"===t.key?a("div",[a("v-checkbox",{attrs:{label:"Used Supplementary marks for calculation",color:"red",value:"true"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"centre_based_entry"===t.key?a("div",[a("v-checkbox",{attrs:{label:"Centre Based Entry",color:"red",value:"true"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"student_entry_lock_date"===t.key?a("div",[a("div",[a("div",[a("div",{staticClass:"v-input v-text-field v-input--is-label-active theme--light"},[a("div",{staticClass:"v-input__control"},[a("div",{staticClass:"v-input__slot"},[a("div",{staticClass:"v-text-field__slot"},[a("label",{staticClass:"v-label v-label--active theme--light",staticStyle:{left:"0px",right:"auto",position:"absolute"},attrs:{"aria-hidden":"true"}},[e._v("Student Entry Lock Date")]),e._v(" "),a("nepali-date-picker",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1)]),e._v(" "),a("div",{staticClass:"v-text-field__details"},[a("div",{staticClass:"v-messages theme--light"},[a("div",{staticClass:"v-messages__wrapper"})])])])])])])]):e._e(),e._v(" "),"marksheet_type"===t.key?a("div",[a("v-select",{attrs:{items:e.availableMarksheetTemplates,label:"Marksheet Template"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"province_text"===t.key?a("div",[a("v-text-field",{attrs:{label:"Province Text (Marksheet)",rules:e.nameRules},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"municipal_office_location"===t.key?a("div",[a("v-text-field",{attrs:{label:"Municipal Office Location (Marksheet)",rules:e.nameRules},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"symbol_listing_report_title"===t.key?a("div",[a("v-text-field",{attrs:{label:"Symbol Number Listing Report Title",hint:"Use semi colon for new line",rules:e.nameRules},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"marksheet_issue_date"===t.key?a("div",[a("v-text-field",{attrs:{label:"Marksheet Issue Date",hint:"used in marksheet",rules:e.nameRules},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"supp_minimum_grade"===t.key?a("div",[a("v-select",{attrs:{label:"Minimum Grade applicable for supplementary examination.",items:e.modifiedGrades},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"supp_at_max_subject"===t.key?a("div",[a("v-text-field",{attrs:{label:"At max subject count applicable for supplementary examination.",rules:e.nameRules},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1):e._e(),e._v(" "),"practical_entry_lock_date"===t.key?a("div",[a("div",[a("div",[a("div",{staticClass:"v-input v-text-field v-input--is-label-active theme--light"},[a("div",{staticClass:"v-input__control"},[a("div",{staticClass:"v-input__slot"},[a("div",{staticClass:"v-text-field__slot"},[a("label",{staticClass:"v-label v-label--active theme--light",staticStyle:{left:"0px",right:"auto",position:"absolute"},attrs:{"aria-hidden":"true"}},[e._v("Practical Marks Entry Lock Date")]),e._v(" "),a("nepali-date-picker",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"meta.value"}})],1)]),e._v(" "),a("div",{staticClass:"v-text-field__details"},[a("div",{staticClass:"v-messages theme--light"},[a("div",{staticClass:"v-messages__wrapper"})])])])])])])]):e._e()])}),e._v(" "),a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("\n        submit\n      ")]),e._v(" "),a("v-btn",{on:{click:e.clear}},[e._v("clear")])],2)],1)],1)},staticRenderFns:[]};var ha=a("VU/8")(va,ma,!1,function(e){a("nC4p")},"data-v-459757f0",null).exports,fa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.date=(new Date).toISOString();var a=[];for(var n in t)a.push(n+"="+t[n]);return s.default.http.post("batch/operations/jobs/"+e,{},{params:{jobParameters:a.join(",")}})},pa=function(){return s.default.http.get("batch/monitoring/job-info")},ba={created:function(){this.intervalObj=setInterval(this.loadJobsInfo,1e4)},destroyed:function(){clearInterval(this.intervalObj)},data:function(){return{intervalObj:null,jobName:null,dialog:!1,jobParams:{},headers:[{text:"Title",align:"left",sortable:!1,value:"code"},{text:"Start",value:"started",sortable:!1},{text:"Ended",value:"ended",sortable:!1},{text:"Count",value:"count",sortable:!1},{text:"Progress",value:"progress",sortable:!1},{text:"Status",value:"status",sortable:!1},{text:"Actions",align:"left",sortable:!1,value:"code"}]}},methods:{invokeJob:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.jobName=e,this.jobParams=t,this.dialog=!0},runJob:function(){var e=this;fa(this.jobName,this.jobParams).then(function(t){e.dialog=!1})},loadJobsInfo:function(){this.$store.dispatch("jobs/loadJobsInfo")}}},_a={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"",mb100:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Jobs")])])],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"400"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Are you sure?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(t){e.dialog=!1}}},[e._v("\n          No\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.runJob}},[e._v("\n          Yes\n        ")])],1)],1)],1),e._v(" "),a("v-data-table",{attrs:{headers:e.headers,items:e.$store.getters["jobs/jobs"],"hide-actions":""},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n        "+e._s(t.header.text)+"\n      ")]),e._v(" "),a("span",[e._v("\n        "+e._s(t.header.text)+"\n      ")])])]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.title))]),e._v(" "),a("td",[e._v(e._s(t.item.started))]),e._v(" "),a("td",[e._v(e._s(t.item.ended))]),e._v(" "),a("td",[e._v(e._s(t.item.processed)+" / "+e._s(t.item.total))]),e._v(" "),a("td",[e._v(e._s(t.item.percentage?t.item.percentage:"-"))]),e._v(" "),a("td",[e._v(e._s(t.item.status))]),e._v(" "),a("td",[a("v-btn",{attrs:{disabled:!(!t.item.status||"COMPLETED"===t.item.status||"FAILED"===t.item.status)},on:{click:function(a){e.invokeJob(t.item.name,t.item.params)}}},[e._v("Run")])],1)]}}])})],1)},staticRenderFns:[]};var xa=a("VU/8")(ba,_a,!1,function(e){a("zLU7")},"data-v-77573bf0",null).exports,ga=function(e){return s.default.http.get("v1/admin/marks-entry",{params:{slip:e}})},ya=function(e,t){return s.default.http.get("v1/admin/marks-entry/school-wise",{params:{schoolId:e,subjectId:t}})},wa=function(e,t){return s.default.http.get("v1/admin/marks-entry/school-wise-supp",{params:{schoolId:e,subjectId:t}})},ka=function(e){return s.default.http.post("v1/admin/marks-entry",e)},Sa=function(e){return s.default.http.post("v1/admin/marks-entry/supp",e)},ja={name:"slip-wise",data:function(){var e=this;return{slipNumber:null,slipNumberRules:[function(e){return!!e||"Slip Number is required"},function(e){return e&&7===e.toString().length||"Slip number should be 7 digit long"}],valid:!1,saving:!1,marksRules:[function(t){return!t||parseInt(t)<=e.entries[0].fullMarks||"Marks should be less than full marks "}],headers:[{text:"SN",align:"left",sortable:!1,value:"sn"},{text:"Symbol Number",align:"left",sortable:!1,value:"symbolNo"},{text:"Marks",align:"left",sortable:!1,value:"marks",width:"20%"}],entries:[]}},methods:{downloadReport:function(){na.downloadSlipForm()},loadEntries:function(){var e=this;ga(this.slipNumber).then(function(t){e.entries=t.body,e.goTo("marks-0")})},saveEntries:function(){var e=this;this.saving=!0,this.entries.length>0&&ka(this.entries).then(function(t){e.saving=!1,e.slipNumber=parseInt(e.slipNumber)+1,e.loadEntries()})},markEntered:function(e){this.entries[e].marks&&2===this.entries[e].marks.toString().length&&this.entries.length>e-1&&this.goTo("marks-"+(e+1))}}},Da={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{staticStyle:{"margin-bottom":"30px"},attrs:{row:""}},[a("v-flex",{attrs:{md3:"",mb20:""}},[a("h2",[e._v("Marks Entry (Slip Wise)")])]),e._v(" "),a("v-flex",{attrs:{md2:"",mb100:""}},[a("v-btn",{on:{click:function(t){e.downloadReport()}}},[e._v("Download Slip Form")])],1)],1),e._v(" "),a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md2:"","offset-md2":""}},[a("v-text-field",{attrs:{rules:e.slipNumberRules,label:"Slip Number"},model:{value:e.slipNumber,callback:function(t){e.slipNumber=t},expression:"slipNumber"}})],1),e._v(" "),a("v-flex",{attrs:{md2:""}},[a("v-btn",{attrs:{disabled:!e.valid||e.saving},on:{click:e.loadEntries}},[e._v("Load")])],1),e._v(" "),a("v-flex",[a("h3",[e._v("Subject: "+e._s(e.entries.length>0?e.entries[0].subjectName:"-"))])])],1),e._v(" "),a("div",[a("v-flex",{attrs:{md4:"","offset-md4":""}},[a("v-data-table",{attrs:{headers:e.headers,items:e.entries,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.index+1))]),e._v(" "),a("td",[e._v(e._s(t.item.symbolNo))]),e._v(" "),a("td",[a("v-text-field",{ref:"marks-"+t.index,attrs:{label:"Marks",rules:e.marksRules},on:{keyup:function(a){e.markEntered(t.index)}},model:{value:t.item.marks,callback:function(a){e.$set(t.item,"marks",a)},expression:"props.item.marks"}})],1)]}}])})],1)],1),e._v(" "),a("v-flex",{attrs:{md2:"","offset-md2":""}},[a("v-btn",{attrs:{disabled:!e.valid||e.saving},on:{click:e.saveEntries}},[e._v("Save")])],1)],1)],1)},staticRenderFns:[]};var Ia=a("VU/8")(ja,Da,!1,function(e){a("lfjb")},"data-v-2df0759c",null).exports,Ra=function(e){return s.default.http.get("v1/admin/marksheet/print",{params:e})},$a={name:"marksheet-print",data:function(){return{symbolNumber:null,schoolId:null}},methods:{printDiv:function(e){var t=window.open();return t.document.write(e),t.document.write('<script type="text/javascript">window.onload = function() { window.print(); window.close(); };<\/script>'),t.document.close(),t.focus(),!0},loadHtml:function(e){var t=this;Ra({type:e,identifier:"school"===e?this.schoolId:this.symbolNumber}).then(function(e){t.printDiv(e.body)})}}},Na={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{staticStyle:{"margin-bottom":"30px"},attrs:{row:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Marksheet Print")])])],1),e._v(" "),a("v-layout",{staticStyle:{"margin-bottom":"30px"},attrs:{row:""}},[a("v-flex",{attrs:{md2:"","offset-md2":"",mb100:""}},[a("v-text-field",{attrs:{label:"Symbol Number"},model:{value:e.symbolNumber,callback:function(t){e.symbolNumber=t},expression:"symbolNumber"}})],1),e._v(" "),a("v-flex",{attrs:{md2:"","offset-md1":"",mb100:""}},[a("v-btn",{on:{click:function(t){e.loadHtml("student")}}},[e._v("Print Marksheet For Single Student")])],1)],1),e._v(" "),a("v-layout",{staticStyle:{"margin-bottom":"30px"},attrs:{row:""}},[a("v-flex",{attrs:{md2:"","offset-md2":"",mb100:""}},[a("v-text-field",{attrs:{label:"School Id"},model:{value:e.schoolId,callback:function(t){e.schoolId=t},expression:"schoolId"}})],1),e._v(" "),a("v-flex",{attrs:{md2:"","offset-md1":"",mb100:""}},[a("v-btn",{on:{click:function(t){e.loadHtml("school")}}},[e._v("Print Marksheet for Whole School")])],1)],1),e._v(" "),a("v-layout",{staticStyle:{"margin-bottom":"30px"},attrs:{row:""}},[a("v-flex",{attrs:{md2:"","offset-md2":"",mb100:""}}),e._v(" "),a("v-flex",{attrs:{md2:"","offset-md1":"",mb100:""}},[a("v-btn",{on:{click:function(t){e.loadHtml("all_supp")}}},[e._v("Print Marksheet for Supplementary Students")])],1)],1)],1)},staticRenderFns:[]};var Ca=a("VU/8")($a,Na,!1,function(e){a("8lH+")},"data-v-3b0a80a0",null).exports,Ea={name:"index",data:function(){return{schoolId:null,extraPercentage:null,schoolIdExcel:void 0}},methods:{downloadLedger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?na.downloadLedger({schoolId:e}):na.downloadLedger()},downloadSchoolWiseMarksEntryForm:function(){na.downloadSchoolWiseMarksEntryForm()},downloadCentreWiseLogisticsReport:function(){na.downloadLogisticsReport({extraPercentage:this.extraPercentage})},downloadSubjectRujuReport:function(){na.downloadSubjectRujuReport()},downloadSchoolRujuReport:function(){na.downloadSchoolRujuReport()},downloadDisciplineRujuReport:function(){na.downloadDisciplineRujuReport()},downloadCentreWiseSchoolReport:function(){na.downloadCentreWiseSchoolReport()},downloadControlListReport:function(){na.downloadControlListReport()},downloadSuppControlListReport:function(){na.downloadSuppControlListReport()},downloadPracticalEntryFormReport:function(){na.downloadPracticalEntryFormReport()},downloadMarksMissingRecords:function(){na.downloadMarksMissingRecords()},downloadRoutine:function(){na.downloadRoutine()},downloadSubjectWise:function(){na.downloadSubjectWiseReport()},downloadSchoolWiseSubject:function(){na.downloadSchoolSubjectWiseReport()},downloadSchoolWiseDetailReport:function(){na.downloadSchoolWiseDetailReport()},downloadSymbolNumbersReport:function(){na.downloadSymbolNumbersReport()},downloadLedgerExcel:function(){na.downloadLedgerExcel(this.schoolIdExcel)},downloadSupLedger:function(){na.downloadSupLedger()},downloadSupSchoolWiseMarksEntryForm:function(){na.downloadSupSchoolWiseMarksEntryForm()}}},Pa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{staticStyle:{"margin-bottom":"30px"},attrs:{row:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Downloads")])])],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md2:"","offset-md2":""}},[a("v-text-field",{attrs:{label:"School Id"},model:{value:e.schoolId,callback:function(t){e.schoolId=t},expression:"schoolId"}})],1),e._v(" "),a("v-flex",{attrs:{md2:"","offset-md1":""}},[a("v-btn",{on:{click:function(t){e.downloadLedger(e.schoolId)}}},[e._v("Download Ledger for School")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md1:"","offset-md2":""}},[a("v-text-field",{attrs:{label:"Extra Percentage"},model:{value:e.extraPercentage,callback:function(t){e.extraPercentage=t},expression:"extraPercentage"}})],1),e._v(" "),a("v-flex",{attrs:{md6:"","offset-md2":""}},[a("v-btn",{on:{click:function(t){e.downloadCentreWiseLogisticsReport()}}},[e._v("Download Centre Wise Logistics Report")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md2:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadLedger()}}},[e._v("Download Ledger for All Schools")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md2:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadSchoolWiseMarksEntryForm()}}},[e._v("Download School Wise Marks Entry")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md2:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadSupSchoolWiseMarksEntryForm()}}},[e._v("Download School Wise Supp Marks Entry")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md6:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadSubjectRujuReport()}}},[e._v("Download Subject Ruju Report")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md6:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadDisciplineRujuReport()}}},[e._v("Download Discipline Ruju Report")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md6:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadSchoolRujuReport()}}},[e._v("Download School Ruju Report")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md6:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadCentreWiseSchoolReport()}}},[e._v("Download Centre Wise School Report")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md6:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadRoutine()}}},[e._v("Download Routine")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md6:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadControlListReport()}}},[e._v("Download Control List")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md6:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadSuppControlListReport()}}},[e._v("Download Supp Control List")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md6:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadPracticalEntryFormReport()}}},[e._v("Download Practical Marks Entry From")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md6:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadMarksMissingRecords()}}},[e._v("Download Marks Missing Records Information")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md6:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadSubjectWise()}}},[e._v("Download Subject Wise Grade")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md6:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadSchoolWiseSubject()}}},[e._v("Download School wise Subject Grade")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md6:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadSchoolWiseDetailReport()}}},[e._v("Download School wise detail report")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md6:"","offset-md5":""}},[a("v-btn",{on:{click:function(t){e.downloadSymbolNumbersReport()}}},[e._v("Download Symbol Number List")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{md2:"","offset-md2":""}},[a("v-text-field",{attrs:{label:"School Id"},model:{value:e.schoolIdExcel,callback:function(t){e.schoolIdExcel=t},expression:"schoolIdExcel"}})],1),e._v(" "),a("v-flex",{attrs:{md2:"","offset-md1":""}},[a("v-btn",{on:{click:function(t){e.downloadLedgerExcel()}}},[e._v("Download Ledger Excel Format")])],1)],1)],1)},staticRenderFns:[]};var Ma=a("VU/8")(Ea,Pa,!1,function(e){a("p7SR")},"data-v-b1a53258",null).exports,Fa={name:"slip-wise",created:function(){"ROLE_SCHOOL"===this.$auth.user().role&&("true"!==this.$store.state.core.metas.th_marks_entry_school_side&&this.$router.push({name:"dashboard"}),this.schoolId=this.$auth.user().school.id,this.schoolEntered())},data:function(){var e=this;return{schoolId:null,subjectId:null,subjects:[],schoolIdRules:[function(e){return!!e||"School Id is required"},function(e){return e&&5===e.toString().length||"School Id should be 5 digit long"}],subjectIdRules:[function(e){return!!e||"Subject Id is required"}],valid:!1,saving:!1,marksRules:[function(t){return!t||parseInt(t)<=e.getSubjectById(e.subjectId).fullMarks||"Marks should be less than full marks "}],headers:[{text:"SN",align:"left",sortable:!1,value:"sn"},{text:"Symbol Number",align:"left",sortable:!1,value:"symbolNo"},{text:"Marks",align:"left",sortable:!1,value:"marks",width:"20%"}],entries:[]}},methods:{loadEntries:function(){var e=this;ya(this.schoolId,this.subjectId).then(function(t){e.entries=t.body,e.goTo("marks-0")})},saveEntries:function(){var e=this;this.saving=!0,this.entries.length>0&&ka(this.entries).then(function(t){e.saving=!1,alert("Marks saved successfully")})},markEntered:function(e){this.entries[e].marks&&2===this.entries[e].marks.toString().length&&this.entries.length>e-1&&this.goTo("marks-"+(e+1))},schoolEntered:function(){var e=this;this.schoolId&&5===this.schoolId.toString().length&&Pe(this.schoolId).then(function(t){e.subjects=t.body})},getSubjectById:function(e){return this.subjects.filter(function(t){return e===t.id})[0]}}},Ta={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{staticStyle:{"margin-bottom":"30px"},attrs:{row:""}},[a("v-flex",{attrs:{md3:"",mb20:""}},[a("h2",[e._v("Marks Entry (School Wise)")])])],1),e._v(" "),a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:"ROLE_ADMIN"===e.$auth.user().role,expression:"$auth.user().role === 'ROLE_ADMIN'"}],attrs:{md1:"","offset-md2":""}},[a("v-text-field",{attrs:{rules:e.schoolIdRules,label:"School Id"},on:{keyup:e.schoolEntered},model:{value:e.schoolId,callback:function(t){e.schoolId=t},expression:"schoolId"}})],1),e._v(" "),a("v-flex",{staticStyle:{"margin-left":"20px"},attrs:{md3:""}},[a("v-select",{attrs:{items:e.subjects,rules:e.subjectIdRules,label:"Subject Id","item-text":"name","item-value":"id"},model:{value:e.subjectId,callback:function(t){e.subjectId=t},expression:"subjectId"}})],1),e._v(" "),a("v-flex",{attrs:{md2:""}},[a("v-btn",{attrs:{disabled:!e.valid||e.saving},on:{click:e.loadEntries}},[e._v("Load")])],1),e._v(" "),a("v-flex",[a("h3",[e._v("Subject: "+e._s(e.entries.length>0?e.entries[0].subjectName:"-"))])])],1),e._v(" "),a("div",[a("v-flex",{attrs:{md4:"","offset-md4":""}},[a("v-data-table",{attrs:{headers:e.headers,items:e.entries,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.index+1))]),e._v(" "),a("td",[e._v(e._s(t.item.symbolNo))]),e._v(" "),a("td",[a("v-text-field",{ref:"marks-"+t.index,attrs:{label:"Marks",rules:e.marksRules},on:{keyup:function(a){e.markEntered(t.index)}},model:{value:t.item.marks,callback:function(a){e.$set(t.item,"marks",a)},expression:"props.item.marks"}})],1)]}}])})],1)],1),e._v(" "),a("v-flex",{attrs:{md2:"","offset-md2":""}},[a("v-btn",{attrs:{disabled:!e.valid||e.saving},on:{click:e.saveEntries}},[e._v("Save")])],1)],1)],1)},staticRenderFns:[]};var Ha=a("VU/8")(Fa,Ta,!1,function(e){a("gexm")},"data-v-053e2288",null).exports,Ba={name:"slip-wise-1",created:function(){"ROLE_SCHOOL"===this.$auth.user().role&&("true"!==this.$store.state.core.metas.supp_marks_entry_school_side&&this.$router.push({name:"dashboard"}),this.schoolId=this.$auth.user().school.id,this.schoolEntered())},data:function(){var e=this;return{schoolId:null,subjectId:null,subjects:[],schoolIdRules:[function(e){return!!e||"School Id is required"},function(e){return e&&5===e.toString().length||"School Id should be 5 digit long"}],subjectIdRules:[function(e){return!!e||"Subject Id is required"}],valid:!1,saving:!1,marksRules:[function(t){return!t||parseInt(t)<=e.getSubjectById(e.subjectId).fullMarks||"Marks should be less than full marks "}],headers:[{text:"SN",align:"left",sortable:!1,value:"sn"},{text:"Symbol Number",align:"left",sortable:!1,value:"symbolNo"},{text:"Marks",align:"left",sortable:!1,value:"marks",width:"20%"}],entries:[]}},methods:{loadEntries:function(){var e=this;wa(this.schoolId,this.subjectId).then(function(t){e.entries=t.body,e.goTo("marks-0")})},saveEntries:function(){var e=this;this.saving=!0,this.entries.length>0&&Sa(this.entries).then(function(t){e.saving=!1,alert("Marks saved successfully")})},markEntered:function(e){this.entries[e].marks&&2===this.entries[e].marks.toString().length&&this.entries.length>e-1&&this.goTo("marks-"+(e+1))},schoolEntered:function(){var e=this;this.schoolId&&5===this.schoolId.toString().length&&Pe(this.schoolId).then(function(t){e.subjects=t.body})},getSubjectById:function(e){return this.subjects.filter(function(t){return e===t.id})[0]}}},qa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{staticStyle:{"margin-bottom":"30px"},attrs:{row:""}},[a("v-flex",{attrs:{md3:"",mb20:""}},[a("h2",[e._v(" Supplementary Marks Entry (School Wise)")])])],1),e._v(" "),a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:"ROLE_ADMIN"===e.$auth.user().role,expression:"$auth.user().role === 'ROLE_ADMIN'"}],attrs:{md1:"","offset-md2":""}},[a("v-text-field",{attrs:{rules:e.schoolIdRules,label:"School Id"},on:{keyup:e.schoolEntered},model:{value:e.schoolId,callback:function(t){e.schoolId=t},expression:"schoolId"}})],1),e._v(" "),a("v-flex",{staticStyle:{"margin-left":"20px"},attrs:{md3:""}},[a("v-select",{attrs:{items:e.subjects,rules:e.subjectIdRules,label:"Subject Id","item-text":"name","item-value":"id"},model:{value:e.subjectId,callback:function(t){e.subjectId=t},expression:"subjectId"}})],1),e._v(" "),a("v-flex",{attrs:{md2:""}},[a("v-btn",{attrs:{disabled:!e.valid||e.saving},on:{click:e.loadEntries}},[e._v("Load")])],1),e._v(" "),a("v-flex",[a("h3",[e._v("Subject: "+e._s(e.entries.length>0?e.entries[0].subjectName:"-"))])])],1),e._v(" "),a("div",[a("v-flex",{attrs:{md4:"","offset-md4":""}},[a("v-data-table",{attrs:{headers:e.headers,items:e.entries,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.index+1))]),e._v(" "),a("td",[e._v(e._s(t.item.symbolNo))]),e._v(" "),a("td",[a("v-text-field",{ref:"marks-"+t.index,attrs:{label:"Marks",rules:e.marksRules},on:{keyup:function(a){e.markEntered(t.index)}},model:{value:t.item.marks,callback:function(a){e.$set(t.item,"marks",a)},expression:"props.item.marks"}})],1)]}}])})],1)],1),e._v(" "),a("v-flex",{attrs:{md2:"","offset-md2":""}},[a("v-btn",{attrs:{disabled:!e.valid||e.saving},on:{click:e.saveEntries}},[e._v("Save")])],1)],1)],1)},staticRenderFns:[]};var Wa=a("VU/8")(Ba,qa,!1,function(e){a("1mTh")},"data-v-30a6a587",null).exports,Aa={index:function(){return s.default.http.get("v1/admin/routines")},save:function(e){return s.default.http.post("v1/admin/routines",e)},publicIndex:function(){return s.default.http.get("v1/public/routines")},download:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"v1/public/routines/download",t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"exam-routine.pdf",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return sa()(ta.a.mark(function r(){var o,i,l;return ta.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.http.get(e,{params:n,responseType:"arraybuffer"});case 2:o=t.sent,i=new Blob([o.data],{type:o.headers.get("content-type")}),(l=document.createElement("a")).href=window.URL.createObjectURL(i),l.download=a,l.click();case 8:case"end":return t.stop()}},r,t)}))()}},Oa={name:"routines",created:function(){var e=this;Ie().then(function(t){e.subjects=t.body,Aa.index().then(function(t){if(t.body.length>0){var a=t.body.map(function(e){return e.id});e.subjects.forEach(function(e){-1!==a.indexOf(e.id)&&(e.disabled=!0)}),e.routines=e.mapData(t.body)}else e.addRoutine()})})},data:function(){return{subjects:[],routines:[],subjectRules:[function(e){return!!e||"At least one Subject is required"},function(e){return e&&e.length>0||"At least one Subject is required"}],valid:!1}},methods:{mapData:function(e){var t={};e.forEach(function(e){t[e.examDate]?t[e.examDate].push(e.subjectId):t[e.examDate]=[e.subjectId]});var a=[];for(var s in t)a.push({examDate:s,subjects:t[s]});return a},addRoutine:function(){this.routines.push({examDate:null,subjects:[]})},removeItem:function(e){this.routines.splice(e)},changeHandler:function(e){this.subjects.forEach(function(t){-1!==e.indexOf(t.id)&&(t.disabled=!0)})},removeSelectedSubject:function(e,t){var a=this.routines[t].subjects.indexOf(e);this.routines[t].subjects.splice(a,1),e.disabled=!1},mappingBeforeSave:function(){var e=[];return this.routines.forEach(function(t){t.subjects.forEach(function(a){e.push({examDate:t.examDate,subjectId:a})})}),e},submit:function(){Aa.save(this.mappingBeforeSave()).then(function(e){alert("Successfully saved!")})}}},La={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md8:"",mb20:""}},[a("h2",[e._v("Routines")])])],1),e._v(" "),a("v-layout",[a("v-flex",{attrs:{md10:""}},[a("v-form",{ref:"discipline_form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e._l(e.routines,function(t,s){return a("div",[a("v-layout",[a("v-flex",{attrs:{md2:""}},[a("v-text-field",{attrs:{label:"EXAM DATE"},model:{value:t.examDate,callback:function(a){e.$set(t,"examDate",a)},expression:"routine.examDate"}})],1),e._v(" "),a("v-flex",{attrs:{"offset-md2":"",md6:""}},[a("v-autocomplete",{attrs:{items:e.subjects,chips:"","item-text":"name","item-value":"id",multiple:"",rules:e.subjectRules,label:"SUBJECTS"},on:{change:e.changeHandler},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-chip",{staticClass:"chip--select-multi",attrs:{selected:t.selected,close:""},on:{input:function(a){e.removeSelectedSubject(t.item,s)}}},[e._v("\n                    "+e._s(t.item.name)+"\n                  ")])]}},{key:"item",fn:function(t){return["object"!=typeof t.item?[a("v-list-tile-content",{domProps:{textContent:e._s(t.item)}})]:[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.item.name)}})],1)]]}}]),model:{value:t.subjects,callback:function(a){e.$set(t,"subjects",a)},expression:"routine.subjects"}})],1),e._v(" "),a("v-flex",{attrs:{md1:""}},[a("v-btn",{staticClass:"error",attrs:{btn:""},on:{click:function(t){e.removeItem(s)}}},[a("v-icon",[e._v("close")])],1)],1)],1)],1)}),e._v(" "),a("v-btn",{on:{click:e.addRoutine}},[a("v-icon",[e._v("add")])],1),e._v(" "),a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("\n          submit\n        ")])],2)],1)],1)],1)},staticRenderFns:[]};var Ua=a("VU/8")(Oa,La,!1,function(e){a("GFRM")},"data-v-0ae1a7ad",null).exports,Va=function(){return s.default.http.get("v1/admin/notices")},za=function(){return s.default.http.get("v1/public/notices")},Ya=function(e){return s.default.http.post("v1/admin/notices",e)},Ga=function(e){return s.default.http.delete("v1/admin/notices/"+e)},Ja=function(e){return s.default.http.get("v1/admin/notices/"+e)},Xa={created:function(){var e=this;Va().then(function(t){e.items=t.body})},data:function(){return{search:"",headers:[{text:"#",align:"left",sortable:!0,value:"id"},{text:"Title",value:"title"},{text:"Published Date",value:"publishedDate"},{text:"Actions",value:"actions",width:"20%"}],items:[]}},methods:{deleteNotice:function(e){var t=this;Ga(e.id).then(function(a){var s=t.items.indexOf(e);t.items.splice(s,1)})}}},Za={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Notices")])]),e._v(" "),a("v-flex",{attrs:{"justify-end":""}},[a("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.notices.create"}}},[a("v-icon",[e._v("add")])],1)],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"rows-per-page-items":[-1],"hide-actions":""},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n        "+e._s(t.header.text)+"\n      ")]),e._v(" "),a("span",[e._v("\n        "+e._s(t.header.text)+"\n      ")])])]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),e._v(" "),a("td",[e._v(e._s(t.item.title))]),e._v(" "),a("td",[e._v(e._s(t.item.publishedDate))]),e._v(" "),a("td",[a("v-btn",{attrs:{danger:"",flat:""},on:{click:function(a){e.deleteNotice(t.item)}}},[a("v-icon",[e._v("delete")])],1),a("v-btn",{attrs:{to:{name:"admin.notices.edit",params:{id:t.item.id}},primary:"",flat:""}},[a("v-icon",[e._v("create")])],1)],1)]}}])})],1)},staticRenderFns:[]};var Qa=a("VU/8")(Xa,Za,!1,function(e){a("s6C/")},"data-v-cfef993c",null).exports,Ka={name:"notice-form",props:{notice:{type:Object,required:!0}},data:function(){return{valid:!1,name:"",id:"",titleRules:[function(e){return!!e||"title is required"}],contentRules:[function(e){return!!e||"Content is required"}]}},methods:{clear:function(){this.$refs.notice_form.reset()},submit:function(){var e=this;Ya(this.notice).then(function(t){e.$router.push({name:"admin.notices.index"})})}}},es={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{md6:""}},[a("v-form",{ref:"notice_form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.titleRules,counter:30,label:"Name",required:"",solo:""},model:{value:e.notice.title,callback:function(t){e.$set(e.notice,"title",t)},expression:"notice.title"}}),e._v(" "),a("v-text-field",{attrs:{rules:e.titleRules,counter:30,label:"Published Date",required:"",solo:""},model:{value:e.notice.publishedDate,callback:function(t){e.$set(e.notice,"publishedDate",t)},expression:"notice.publishedDate"}}),e._v(" "),a("v-textarea",{attrs:{rules:e.contentRules,counter:30,label:"Content",required:"",rows:"20",solo:""},model:{value:e.notice.content,callback:function(t){e.$set(e.notice,"content",t)},expression:"notice.content"}}),e._v(" "),a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("\n      submit\n    ")]),e._v(" "),a("v-btn",{on:{click:e.clear}},[e._v("clear")])],1)],1)},staticRenderFns:[]};var ts=a("VU/8")(Ka,es,!1,function(e){a("szQd")},"data-v-5c19d0da",null).exports,as={components:{NoticeForm:ts},created:function(){},data:function(){return{}}},ss={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Add New Notice")])]),this._v(" "),t("v-flex",{attrs:{md2:""}},[t("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.notices.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("notice-form",{attrs:{notice:{id:"",title:"",content:"",publishedDate:""}}})],1)},staticRenderFns:[]};var ns=a("VU/8")(as,ss,!1,function(e){a("xrg0")},"data-v-2bc78cf8",null).exports,rs={components:{NoticeForm:ts},data:function(){return{notice:{id:"",title:"",content:"",publishedDate:""}}},watch:{$route:function(e,t){this.created()}},created:function(){var e=this;Ja(this.$route.params.id).then(function(t){e.notice=t.body})}},os={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Edit Notice")])]),this._v(" "),t("v-flex",{attrs:{md2:""}},[t("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"admin.notices.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("notice-form",{attrs:{notice:this.notice}})],1)},staticRenderFns:[]},is=a("VU/8")(rs,os,!1,null,null,null).exports,ls=function(e){return s.default.http.get("v1/admin/students/search",{params:{identifier:e}})},cs=function(e){return s.default.http.post("v1/school/students/index",e)},us=function(e){return s.default.http.post("v1/school/students",e)},ds=function(e){return s.default.http.delete("v1/school/students/"+e)},vs=function(e){return s.default.http.get("v1/school/students/"+e)},ms=function(e){return s.default.http.get("v1/school/students/"+e+"/history")},hs=function(e,t){return s.default.http.get("v1/school/students/symbol-exists-or-not",{params:{symbolNo:e,regNo:t}})},fs=function(){return s.default.http.get("v1/school/students/fail-list")},ps=function(e){return s.default.http.post("v1/school/students/update-shs-list",e)},bs={components:{StudentShow:a("VU/8")(null,null,!1,null,null,null).exports},data:function(){return{search:null,student:{},notFound:!1}},methods:{searchStudent:function(){var e=this;ls(this.search).then(function(t){t.body?e.student=t.body:e.notFound=!0})},searchKeyup:function(){this.notFound=!1,this.student={}}}},_s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",[a("h2",[e._v("Search Student")])]),e._v(" "),a("v-layout",{staticStyle:{"margin-top":"20px"}},[a("v-flex",{attrs:{md2:""}},[a("v-text-field",{attrs:{label:"Reg No or Symbol Number"},on:{keyup:function(e){}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("v-flex",{attrs:{md1:""}},[a("v-btn",{on:{click:e.searchStudent}},[e._v("Search")])],1)],1),e._v(" "),a("v-layout",{directives:[{name:"show",rawName:"v-show",value:0===Object.keys(e.student).length&&e.notFound,expression:" Object.keys(student).length === 0 && notFound "}],staticStyle:{"margin-top":"10px"},attrs:{md2:""}},[a("h3",[e._v("Record not found")])]),e._v(" "),a("student-show",{directives:[{name:"show",rawName:"v-show",value:0!==Object.keys(e.student).length,expression:" Object.keys(student).length !== 0 "}],attrs:{student:e.student}})],1)},staticRenderFns:[]};var xs=[{path:"wards",name:"wards.index",component:S},{path:"wards/create",name:"wards.create",component:N},{path:"wards/:id/edit",name:"wards.edit",component:P},{path:"schools",name:"schools.index",component:me},{path:"schools/create",name:"schools.create",component:pe},{path:"schools/:id/edit",name:"schools.edit",component:xe},{path:"users",name:"users.index",component:Ft},{path:"users/create",name:"users.create",component:Wt},{path:"users/:id/edit",name:"users.edit",component:Lt},{path:"disciplines",name:"disciplines.index",component:we},{path:"disciplines/create",name:"disciplines.create",component:Oe},{path:"disciplines/:id/edit",name:"disciplines.edit",component:Ve},{path:"subjects",name:"subjects.index",component:Ge},{path:"subjects/create",name:"subjects.create",component:et},{path:"subjects/:id/edit",name:"subjects.edit",component:st},{path:"centres",name:"centres.index",component:xt},{path:"centres/create",name:"centres.create",component:wt},{path:"centres/:id/edit",name:"centres.edit",component:jt},{path:"dashboard",name:"dashboard",component:ia},{path:"settings",name:"settings",component:ha},{path:"jobs",name:"jobs",component:xa},{path:"marks-entry/slip-wise",name:"marks-entry.slip-wise",component:Ia},{path:"marksheet/print",name:"marksheet.print",component:Ca},{path:"downloads",name:"downloads.index",component:Ma},{path:"marks-entry/school-wise",name:"marks-entry.school-wise",component:Ha},{path:"supp-marks-entry/school-wise",name:"supp-marks-entry.school-wise",component:Wa},{path:"routines",name:"routines.index",component:Ua},{path:"notices",name:"notices.index",component:Qa},{path:"notices/create",name:"notices.create",component:ns},{path:"notices/:id/edit",name:"notices.edit",component:is},{path:"search",name:"search",component:a("VU/8")(bs,_s,!1,function(e){a("j5XQ")},"data-v-159f9eed",null).exports}];for(var gs in xs)xs[gs].path="/admin/"+xs[gs].path,xs[gs].name="admin."+xs[gs].name,xs[gs].meta={auth:["ROLE_ADMIN"],middleware:["changepassword"]};var ys=xs,ws={name:"login",data:function(){return{username:"",password:"",loginError:!1}},created:function(){},methods:{login:function(){var e=this;this.$auth.login({body:{username:this.username,password:this.password},success:function(e){},error:function(t){e.loginError=!0},rememberMe:!0,fetchUser:!0,redirect:null})}}},ks={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Login form")]),e._v(" "),a("v-spacer")],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.loginError,expression:"loginError"}],staticStyle:{"text-align":"center"}},[e._v("Invalid username or Password")]),e._v(" "),a("v-card-text",[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[a("v-text-field",{attrs:{"prepend-icon":"person",label:"Username",type:"text"},on:{change:function(t){e.loginError=!1}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),a("v-text-field",{attrs:{id:"password","prepend-icon":"lock",label:"Password",type:"password"},on:{change:function(t){e.loginError=!1},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.login(t):null}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:e.login}},[e._v("Login")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ss=a("VU/8")(ws,ks,!1,function(e){a("Slwv")},"data-v-7cddc48f",null).exports,js={created:function(){var e=this;Aa.publicIndex().then(function(t){e.routines=t.body})},data:function(){return{routines:{},headers:[{text:"Exam Date",align:"left",sortable:!1,value:"examDate",width:"20%"},{text:"Subjects",value:"subjects",sortable:!1}]}},methods:{download:function(){Aa.download()}}},Ds={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md10:"",mb20:""}},[a("h2",[e._v("Routine")])]),e._v(" "),a("v-flex",{attrs:{md2:"",mb20:""}},[a("v-btn",{on:{click:e.download}},[e._v("Download")])],1)],1),e._v(" "),a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{"offset-md2":"",md8:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:Object.keys(e.routines).sort(),"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item))]),e._v(" "),a("td",e._l(e.routines[t.item],function(t,s){return a("span",[e._v(e._s(s+1)+") "+e._s(t.subjectsBySubjectId.name)),a("br")])}))]}}])})],1)],1)],1)},staticRenderFns:[]};var Is=function(e){return s.default.http.post("v1/public/results",e)},Rs={name:"result",data:function(){return{marksheet:{dob:null,symbolNo:null},notFound:!1}},methods:{loadResult:function(){var e=this;this.$refs["result-container"].innerHTML="",Is(this.marksheet).then(function(t){e.createIframe(t.body),e.notFound=!1}).catch(function(t){e.notFound=!0})},createIframe:function(e){var t=document.createElement("iframe");t.width="100%",t.height="500px",t.src="about:blank",this.$refs["result-container"].innerHTML="",this.$refs["result-container"].appendChild(t),t.contentWindow.document.open("text/html","replace"),t.contentWindow.document.write(e),t.contentWindow.document.close()}}},$s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{staticStyle:{"margin-bottom":"30px"},attrs:{row:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Check Result")])])],1),e._v(" "),a("v-layout",{staticStyle:{"margin-bottom":"30px"},attrs:{row:""}},[a("v-flex",{attrs:{md2:"","offset-md2":"",mb100:""}},[a("v-text-field",{attrs:{label:"Symbol Number"},model:{value:e.marksheet.symbolNo,callback:function(t){e.$set(e.marksheet,"symbolNo",t)},expression:"marksheet.symbolNo"}}),e._v(" "),a("p",[e._v("Please use Symbol Number without alphabet, for example 0010102")])],1),e._v(" "),a("v-flex",{attrs:{md2:"","offset-md2":"",mb100:""}},[a("v-text-field",{attrs:{label:"DOB in BS"},model:{value:e.marksheet.dob,callback:function(t){e.$set(e.marksheet,"dob",t)},expression:"marksheet.dob"}}),e._v(" "),a("p",[e._v("Please use YYYY-MM-DD date format, For example 2063-04-05")])],1),e._v(" "),a("v-flex",{attrs:{md2:"","offset-md1":"",mb100:""}},[a("v-btn",{on:{click:function(t){e.loadResult()}}},[e._v("Submit")])],1)],1),e._v(" "),a("v-layout",{directives:[{name:"show",rawName:"v-show",value:e.notFound,expression:"notFound"}]},[a("v-flex",{staticStyle:{color:"#8b0000"},attrs:{"offset-md2":"",xs12:"",sm12:"",md5:""}},[e._v("\n        Invalid Symbol Number or DOB so, We are unable to find record. Please verify it once again.\n    ")])],1),e._v(" "),a("v-layout",{staticStyle:{"margin-bottom":"30px"},attrs:{row:""}},[a("v-flex",{attrs:{md10:"","offset-md1":"",mb100:""}},[a("div",{ref:"result-container"})])],1)],1)},staticRenderFns:[]};var Ns={created:function(){var e=this;za().then(function(t){e.items=t.body})},data:function(){return{routines:{},dialog:!1,headers:[{text:"Title",align:"left",sortable:!0,value:"title"},{text:"Published Date",align:"left",sortable:!0,value:"publishedDate"},{text:"Actions",align:"left",sortable:!1,value:"actions"}],items:[],shown:""}},methods:{view:function(e){this.shown=e,this.dialog=!0}}},Cs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.shown.title))]),e._v(" "),a("v-card-text",[e._v("\n        "+e._s(e.shown.content)+"\n      ")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("close")])],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md10:"",mb20:""}},[a("h2",[e._v("Notices")])])],1),e._v(" "),a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{"offset-md3":"",md5:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{on:{click:function(a){e.view(t.item)}}},[e._v(e._s(t.item.title))]),e._v(" "),a("td",[e._v(e._s(t.item.publishedDate))]),e._v(" "),a("td",[a("a",{on:{click:function(a){e.view(t.item)}}},[e._v("Read More")])])]}}])})],1)],1)],1)},staticRenderFns:[]};var Es=[{path:"/login",name:"auth.login",component:Ss},{path:"/login",name:"routines.index",component:Ss},{path:"/404",name:"errors.404",component:a("VU/8")(null,null,!1,null,null,null).exports},{path:"/403",name:"errors.403",component:a("VU/8")(null,null,!1,null,null,null).exports},{path:"",name:"dashboard",component:a("VU/8")(null,null,!1,null,null,null).exports},{path:"/routines",name:"routines",component:a("VU/8")(js,Ds,!1,function(e){a("BaBo")},"data-v-0226f210",null).exports},{path:"/result",name:"result",component:a("VU/8")(Rs,$s,!1,function(e){a("ayla")},"data-v-3ed31111",null).exports},{path:"/notices",name:"notices",component:a("VU/8")(Ns,Cs,!1,function(e){a("zMDH")},"data-v-1a25c86c",null).exports}],Ps=function(e){return s.default.http.post("v1/school/admit-card/print",e)},Ms={created:function(){},data:function(){return{response:"<h1>Loading Please wait</h1>",loaded:!1}},watch:{printDialog:function(e,t){e?this.loadData():(this.loaded=!1,this.response="<h1>Loading Please wait</h1>")}},props:{query:{type:Object,required:!0},printDialog:{type:Boolean,required:!0}},methods:{loadData:function(){var e=this;Ps(this.query).then(function(t){e.response=t.body,e.loaded=!0})},printDiv:function(e){var t=document.getElementById(e).innerHTML,a=window.open();return a.document.write(t),a.document.write('<script type="text/javascript">window.onload = function() { window.print(); window.close(); };<\/script>'),a.document.close(),a.focus(),!0}}},Fs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],on:{click:function(t){e.printDiv("print-container-11")}}},[a("v-icon",[e._v("print")])],1),e._v(" "),a("div",{attrs:{id:"print-container-11"},domProps:{innerHTML:e._s(e.response)}})],1)},staticRenderFns:[]};var Ts=a("VU/8")(Ms,Fs,!1,function(e){a("/fX3")},"data-v-1fe31d9a",null).exports,Hs={components:{AdmitCard:Ts},mounted:function(){this.getDataFromApi()},watch:{query:{handler:function(){this.getDataFromApi()},deep:!0}},data:function(){return{printDialog:!1,dialog:!1,deleteDialog:!1,loading:!0,students:[],query:{search:null,rowsPerPage:25,descending:!1,page:1,sortBy:"id",totalItems:null},headers:[{text:"SN",align:"left",sortable:!1,value:"SN",width:"2%"},{text:"Reg No",align:"left",sortable:!0,value:"id"},{text:"Name",value:"fName"},{text:"Gender",value:"sex"},{text:"Father Name",value:"fatherName"},{text:"Mother Name",value:"motherName"},{text:"Actions",value:"Actions",sortable:!1}]}},methods:{getDataFromApi:function(){var e=this;return this.loading=!0,cs(this.query).then(function(t){e.students=t.body.content,e.query.totalItems=t.body.totalElements})},deleteItem:function(){var e=this,t=this.deletingItem;ds(t.id).then(function(a){var s=e.students.indexOf(t);e.students.splice(s,1),e.deleteDialog=!1})},showDeleteDialog:function(e){this.deletingItem=e,this.deleteDialog=!0},downloadRujuReport:function(){na.downloadStudentRujuReport()},downloadLedgerReport:function(){na.downloadStudentLedgerForSingleSchoolReport()}}},Bs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{fullscreen:""},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-btn",{staticStyle:{float:"right"},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("admit-card",{staticStyle:{background:"white"},attrs:{query:e.query,printDialog:e.printDialog}})],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"400"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Are you sure?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(t){e.deleteDialog=!1}}},[e._v("\n          No\n        ")]),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.deleteItem}},[e._v("\n          Yes\n        ")])],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Students")])]),e._v(" "),a("v-flex",{attrs:{md4:""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.query.search,callback:function(t){e.$set(e.query,"search",t)},expression:"query.search"}})],1),e._v(" "),a("v-flex",{attrs:{"justify-end":""}},[a("v-btn",{staticClass:"float-right",attrs:{fab:""},on:{click:function(t){e.printDialog=!0}}},[a("v-icon",[e._v("print")])],1),e._v(" "),a("v-btn",{staticClass:"float-right",attrs:{fab:"",to:{name:"school.students.create"}}},[a("v-icon",[e._v("add")])],1),e._v(" "),a("v-btn",{staticClass:"float-right",on:{click:e.downloadRujuReport}},[e._v("DOWNLOAD RUJU REPORT")]),e._v(" "),a("v-btn",{staticClass:"float-right",attrs:{to:{name:"school.supp-list"}}},[e._v("SUPP LIST")]),e._v(" "),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"true"===e.$store.state.core.metas.th_marks_entry_school_side||"true"===e.$store.state.core.metas.result_published,expression:"$store.state.core.metas.th_marks_entry_school_side === 'true' || $store.state.core.metas.result_published === 'true' "}],staticClass:"float-right",on:{click:e.downloadLedgerReport}},[e._v("DOWNLOAD LEDGER")])],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.students,pagination:e.query,"rows-per-page-items":[25,50,100,500],"total-items":e.query.totalItems},on:{"update:pagination":function(t){e.query=t}},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n        "+e._s(t.header.text)+"\n      ")]),e._v(" "),a("span",[e._v("\n        "+e._s(t.header.text)+"\n      ")])])]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(e.query.rowsPerPage*(e.query.page-1)+t.index+1))]),e._v(" "),a("td",[e._v(e._s(t.item.id))]),e._v(" "),a("td",[e._v(e._s(t.item.fullName))]),e._v(" "),a("td",[e._v(e._s(1===t.item.sex?"M":"F"))]),e._v(" "),a("td",[e._v(e._s(t.item.fatherName))]),e._v(" "),a("td",[e._v(e._s(t.item.motherName))]),e._v(" "),a("td",[a("v-btn",{attrs:{danger:"",flat:""},on:{click:function(a){e.showDeleteDialog(t.item)}}},[a("v-icon",[e._v("delete")])],1),e._v(" "),a("v-btn",{attrs:{to:{name:"school.students.edit",params:{id:t.item.id}},primary:"",flat:""}},[a("v-icon",[e._v("create")])],1),e._v(" "),a("v-btn",{attrs:{to:{name:"school.students.detail",params:{id:t.item.id}},primary:"",flat:""}},[a("v-icon",[e._v("remove_red_eye")])],1)],1)]}}])})],1)},staticRenderFns:[]};var qs=a("VU/8")(Hs,Bs,!1,function(e){a("VOPG")},null,null).exports,Ws=function(e){var t=X()({},e);return t.dob=t.dobYear.toString().padStart(4,"0")+"-"+t.dobMonth.toString().padStart(2,"0")+"-"+t.dobDay.toString().padStart(2,"0"),t},As=function(e){var t=X()({},e),a=t.dob.split("-");return t.dobYear=a[0],t.dobMonth=a[1],t.dobDay=a[2],t.subjectCount=t.studentHasSubjectsById.length,t},Os={name:"student-form",created:function(){var e=this;oe(this.$store.state.core.metas.student_entry_lock_date)&&!this.$auth.impersonating()&&(alert("Student entry and edit is locked by admin. Please contact administrator."),this.$router.push({name:"school.students.index"})),A().then(function(t){e.disciplines=t.body,e.refinedDisciplines={},e.$route.params.id||1!==e.disciplines.length||(e.student.disciplineId=e.disciplines[0].id),e.disciplines.forEach(function(t){e.refinedDisciplines[t.id]=t,t.disciplineHasSubjectsById.forEach(function(e){return e.subjectName=e.subjectsBySubjectId.name}),e.refinedDisciplines[t.id].mappedSubjects=ne(t.disciplineHasSubjectsById,"subjectOrder")}),e.disciplineChangeHandler(),!e.$route.params.id&&"true"===e.$store.state.core.metas.manual_symbol_number&&e.$store.state.core.symbolNumber&&(e.student.symbolNo=e.$store.state.core.symbolNumber)})},props:{student:{type:Object,required:!0}},data:function(){var e=this;return{disciplines:[],sexData:[{name:"Female",value:2},{name:"Male",value:1}],wards:[],valid:!1,name:"",id:"",submitingForm:!1,nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=50||"Name must be less than 50 characters"},function(e){return e&&/^[A-Za-z ']+$/g.test(e)||"Please provide valid name"}],disciplineRules:[function(e){return!!e||"Discipline must be selected"}],lNameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=50||"Name must be less than 50 characters"},function(e){return e&&/^[A-Za-z .']+$/g.test(e)||"Please provide valid name"}],middleNameRules:[function(e){return!e||e&&e.length<=50||"Name must be less than 50 characters"},function(e){return!e||e&&/^[A-Za-z']+$/g.test(e)||"Please provide valid name"}],parentNameRules:[function(t){return!!e.student.fatherName||!!e.student.motherName||"Name is required"},function(e){return e&&e.length<=50||"Name must be less than 50 characters"},function(e){return e&&/^[A-Za-z .']+$/g.test(e)||"Please provide valid name"}],yearRules:[function(e){return!!e||"Year is required"},function(t){return t&&parseInt(e.student.dobYear)<=2070||"Year must be less than 2070"},function(e){return e&&4===e.toString().length&&/^[0-9]+$/g.test(e)||"Please provide valid month"}],monthRules:[function(e){return!!e||"Month is required"},function(t){return t&&parseInt(e.student.dobMonth)<=12&&parseInt(e.student.dobMonth)>=1||"Month must be between 1 to 12"},function(e){return e&&/^[0-9]+$/g.test(e)||"Please provide valid month"}],sexRules:[function(e){return!!e||"Sex is required"}],dobRules:[function(e){return!!e||"Invalid BS date selected"}],dayRules:[function(e){return!!e||"Day is required"},function(t){return t&&parseInt(e.student.dobDay)<=32&&parseInt(e.student.dobMonth)>=1||"Day must be between 1 to 32"},function(e){return e&&/^[0-9]+$/g.test(e)||"Please provide valid day"}],refinedDisciplines:{},selectedDiscipline:null,originalShsArr:null}},methods:{clear:function(){this.$refs.student_form.reset()},submit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.submitingForm=!0,us(Ws(this.student)).then(function(a){e.$route.params.id||e.$store.commit("core/updateNextEntrySymbolNumber",e.student.symbolNo),e.$router.push({name:"school.students.index"}),t&&setTimeout(function(){return e.$router.push({name:"school.students.create",query:{reload:(new Date).valueOf()}})},100)}).catch(function(t){alert(t),e.submitingForm=!1})},disciplineChangeHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.selectedDiscipline=this.refinedDisciplines[this.student.disciplineId],this.selectedDiscipline&&e&&(this.student.studentHasSubjectsById=this.$route.params.id?this.editingCaseSubjectRowsHandler():this.createCaseSubjectRowsHandler())},fetchNewSchoolId:function(){var e=this;q(this.school.locationWardId).then(function(t){e.school.id=t.body.schoolId})},editingCaseSubjectRowsHandler:function(){var e=this;this.originalShsArr||(this.originalShsArr={},this.student.studentHasSubjectsById.forEach(function(t){e.originalShsArr[t.subjectOrder]=t}));for(var t=[],a=1;a<=this.selectedDiscipline.subjectCount;a++)this.originalShsArr[a]?function(){var s=X()({},e.originalShsArr[a]),n=[];e.selectedDiscipline.mappedSubjects[a].forEach(function(e){n.push(e.subjectId)}),-1===n.indexOf(s.subjectId)&&(s.subjectId=e.selectedDiscipline.mappedSubjects[a][0].subjectId),t.push(s)}():t.push({id:null,subjectId:this.selectedDiscipline.mappedSubjects[a][0].subjectId,subjectOrder:a});return t},createCaseSubjectRowsHandler:function(){for(var e=[],t=1;t<=this.selectedDiscipline.subjectCount;t++)e.push({id:null,subjectId:this.selectedDiscipline.mappedSubjects[t][0].subjectId,subjectOrder:t});return e},dateConversion:function(){if(this.student.dobYear&&this.student.dobMonth&&this.student.dobDay)try{return void(this.student.dob=ie(this.student.dobYear.toString().padStart(4,"0")+"/"+this.student.dobMonth.toString().padStart(2,"0")+"/"+this.student.dobDay.toString().padStart(2,"0")))}catch(e){}this.student.dob=null}}},Ls={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"student_form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",[a("v-flex",{attrs:{md5:""}},[a("h3",[e._v("Student Data")]),e._v(" "),a("v-text-field",{staticClass:"my-text-uppercase",attrs:{counter:30,label:"First Name",required:"",rules:e.nameRules},model:{value:e.student.fName,callback:function(t){e.$set(e.student,"fName",t)},expression:"student.fName"}}),e._v(" "),a("v-text-field",{staticClass:"my-text-uppercase",attrs:{counter:30,label:"Middle Name",rules:e.middleNameRules},model:{value:e.student.mName,callback:function(t){e.$set(e.student,"mName",t)},expression:"student.mName"}}),e._v(" "),a("v-text-field",{staticClass:"my-text-uppercase",attrs:{counter:30,label:"Last Name",required:"",rules:e.lNameRules},model:{value:e.student.lName,callback:function(t){e.$set(e.student,"lName",t)},expression:"student.lName"}}),e._v(" "),a("v-select",{attrs:{required:"",items:e.sexData,label:"Sex","item-text":"name",rules:e.sexRules},model:{value:e.student.sex,callback:function(t){e.$set(e.student,"sex",t)},expression:"student.sex"}}),e._v(" "),a("v-text-field",{staticClass:"my-text-uppercase",attrs:{counter:50,label:"Father Name",required:""},model:{value:e.student.fatherName,callback:function(t){e.$set(e.student,"fatherName",t)},expression:"student.fatherName"}}),e._v(" "),a("v-text-field",{staticClass:"my-text-uppercase",attrs:{counter:50,label:"Mother Name",required:""},model:{value:e.student.motherName,callback:function(t){e.$set(e.student,"motherName",t)},expression:"student.motherName"}}),e._v(" "),a("v-layout",[a("v-flex",{attrs:{md2:""}},[a("v-text-field",{attrs:{label:"YYYY",required:"",type:"number","append-outer-icon":"dash",rules:e.yearRules},model:{value:e.student.dobYear,callback:function(t){e.$set(e.student,"dobYear",t)},expression:"student.dobYear"}})],1),e._v(" "),a("v-flex",{attrs:{md2:""}},[a("v-text-field",{attrs:{label:"MM",required:"",type:"number",rules:e.monthRules,"append-outer-icon":"dash"},model:{value:e.student.dobMonth,callback:function(t){e.$set(e.student,"dobMonth",t)},expression:"student.dobMonth"}})],1),e._v(" "),a("v-flex",{attrs:{md1:""}},[a("v-text-field",{attrs:{label:"DD",required:"",rules:e.dayRules,type:"number"},model:{value:e.student.dobDay,callback:function(t){e.$set(e.student,"dobDay",t)},expression:"student.dobDay"}})],1)],1),e._v(" "),a("v-select",{attrs:{items:e.disciplines,attach:"",standard:"",label:"Disciplines","item-text":"name","item-value":"id",required:"",rules:e.disciplineRules},on:{change:function(t){e.disciplineChangeHandler(!0)}},model:{value:e.student.disciplineId,callback:function(t){e.$set(e.student,"disciplineId",t)},expression:"student.disciplineId"}}),e._v(" "),a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.$route.params.id||"true"===e.$store.state.core.metas.manual_symbol_number,expression:"$route.params.id || $store.state.core.metas.manual_symbol_number === 'true'"},{name:"validate",rawName:"v-validate",value:"true"===e.$store.state.core.metas.manual_symbol_number?"required|symbol_number"+(e.student.id?":"+e.student.id:""):"",expression:"$store.state.core.metas.manual_symbol_number === 'true' ? 'required|symbol_number' + (student.id ? ':' + student.id : '') : ''"}],attrs:{counter:7,label:"Symbol Number",disabled:"true"!==e.$store.state.core.metas.manual_symbol_number,"error-messages":e.errors.collect("symbolNumber"),error:e.errors.has("symbolNumber"),"data-vv-name":"symbolNumber"},model:{value:e.student.symbolNo,callback:function(t){e.$set(e.student,"symbolNo",t)},expression:"student.symbolNo"}}),e._v(" "),a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.$route.params.id,expression:"$route.params.id"}],attrs:{counter:10,label:"Reg Number",disabled:""},model:{value:e.student.id,callback:function(t){e.$set(e.student,"id",t)},expression:"student.id"}}),e._v(" "),a("v-btn",{attrs:{disabled:!e.valid&&!e.submitingForm},on:{click:function(t){e.submit()}}},[e._v("\n        "+e._s(e.submitingForm?"Uploading":"Submit")+"\n      ")]),e._v(" "),a("v-btn",{attrs:{disabled:!e.valid&&!e.submitingForm},on:{click:function(t){e.submit(!0)}}},[e._v("\n        "+e._s(e.submitingForm?"Uploading":"Submit And Add Another")+"\n      ")]),e._v(" "),a("v-btn",{on:{click:e.clear}},[e._v("clear")])],1),e._v(" "),a("v-flex",{attrs:{md5:"","offset-md1":""}},[a("h3",[e._v("Subjects")]),e._v(" "),e.selectedDiscipline?a("div",e._l(e.student.studentHasSubjectsById,function(t){return a("div",[a("v-select",{attrs:{items:e.selectedDiscipline.mappedSubjects[t.subjectOrder],attach:"",standard:"",label:"Subject Order "+t.subjectOrder,"item-text":"subjectName","item-value":"subjectId",required:""},model:{value:t.subjectId,callback:function(a){e.$set(t,"subjectId",a)},expression:"subjectRow.subjectId"}})],1)})):e._e()])],1)],1)},staticRenderFns:[]};var Us=a("VU/8")(Os,Ls,!1,function(e){a("ijhT")},"data-v-213b8cd3",null).exports,Vs={components:{StudentForm:Us},created:function(){},data:function(){return{blankStudent:{id:null,fName:"",mName:"",lName:"",year:"",schoolId:"",sex:"",fatherName:"",dob:"",dobYear:"",dobMonth:"",dobDay:"",disciplineId:"",symbolNo:"",studentHasSubjectsById:[]}}}},zs={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Add New Student")])]),this._v(" "),t("v-flex",{attrs:{md1:""}},[t("v-btn",{attrs:{fab:"",to:{name:"school.students.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("student-form",{attrs:{student:this.blankStudent}})],1)},staticRenderFns:[]};var Ys=a("VU/8")(Vs,zs,!1,function(e){a("EALS")},"data-v-1b0576ab",null).exports,Gs={components:{StudentForm:Us},watch:{$route:function(e,t){this.created()}},created:function(){var e=this;vs(this.$route.params.id).then(function(t){e.student=As(t.body)})},data:function(){return{student:{},seletedDiscipline:{}}}},Js={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[t("v-flex",{attrs:{md10:"",mb20:""}},[t("h2",[this._v("Edit Student")])]),this._v(" "),t("v-flex",{attrs:{md1:""}},[t("v-btn",{attrs:{fab:"",to:{name:"school.students.index"}}},[t("v-icon",[this._v("arrow_back")])],1)],1)],1),this._v(" "),t("student-form",{attrs:{student:this.student}})],1)},staticRenderFns:[]};var Xs=a("VU/8")(Gs,Js,!1,function(e){a("BYNm")},"data-v-368a5728",null).exports,Zs=a("fZjL"),Qs=a.n(Zs),Ks={created:function(){var e=this;ms(this.$route.params.id).then(function(t){e.revisions=t.body,e.groupByStudentModifiedDate={},e.revisions.studentRevisions.forEach(function(t){e.groupByStudentModifiedDate[new Date(t.lastModifiedAt).toLocaleString()]=t}),e.revisions.shsRevisions.filter(function(e){return e.marks}).forEach(function(t){var a=new Date(t.lastModifiedAt).toLocaleString();e.groupBySHSModifiedDate[a]||(e.groupBySHSModifiedDate[a]={}),e.groupBySHSModifiedDate[a][t.subjectId]=t,e.subjects[t.subjectId]=e.revisions.subjectMap[t.subjectId].subjectShortcode}),e.partialHeaders=Qs()(e.basicFields).map(function(t){return{text:e.basicFields[t],align:"left",sortable:!1,value:t}}),e.studentHeaders=[{text:"Date",align:"left",sortable:!1,value:"date"}].concat(e.partialHeaders),e.subjectHeaders=[{text:"Date",align:"left",sortable:!1,value:"date",twoColumn:!1,width:"12%"}].concat(Qs()(e.subjects).map(function(t){return{text:e.subjects[t],align:"left",sortable:!1,value:t,twoColumn:!0,width:"8%"}})),e.studentItems=Qs()(e.groupByStudentModifiedDate),e.shsItems=Qs()(e.groupBySHSModifiedDate)})},data:function(){return{revisions:[],groupByStudentModifiedDate:{},groupBySHSModifiedDate:{},studentHeaders:[],partialHeaders:[],studentItems:[],basicFields:{name:"Name",fatherName:"Father",dob:"DOB",symbolNo:"Symbol Number",sex:"Gender"},subjectHeaders:[],subjects:{},shsItems:[]}},methods:{generateHeaderForStudent:function(){}}},en={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",[a("v-flex",{attrs:{md10:"","offset-md1":""}},[a("h2",{staticStyle:{margin:"20px"}},[e._v("Basic Field Auditing")]),e._v(" "),a("v-data-table",{attrs:{headers:e.studentHeaders,items:e.studentItems,"hide-actions":"",light:""},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n                "+e._s(t.header.text)+"\n              ")]),e._v(" "),a("span",[e._v("\n                "+e._s(t.header.text)+"\n              ")])])]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item))]),e._v(" "),e._l(Object.keys(e.basicFields),function(s){return a("td",[e.studentItems.length-t.index==1||e.groupByStudentModifiedDate[e.studentItems[t.index+1]][s]!==e.groupByStudentModifiedDate[t.item][s]?a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(e.groupByStudentModifiedDate[t.item][s]))]),e._v(" "),a("span",[e._v(e._s(e.revisions.users[e.groupByStudentModifiedDate[t.item].lastModifiedBy].username+" ["+e.revisions.users[e.groupByStudentModifiedDate[t.item].lastModifiedBy].name+"]"))])]):e._e()],1)})]}}])})],1)],1),e._v(" "),a("v-layout",{staticStyle:{margin:"30px"}},[a("v-flex",{attrs:{md12:""}},[a("h2",{staticStyle:{margin:"20px"}},[e._v("Marks Auditing")]),e._v(" "),a("v-data-table",{attrs:{headers:e.subjectHeaders,items:e.shsItems,"hide-actions":""},scopedSlots:e._u([{key:"headers",fn:function(t){return[a("tr",e._l(t.headers,function(t){return a("th",{attrs:{width:t.width,colspan:t.twoColumn?2:1}},[e._v(e._s(t.text))])})),e._v(" "),a("tr",[e._l(t.headers,function(t){return[a("th",[e._v(e._s(t.twoColumn?"TH":""))]),e._v(" "),t.twoColumn?a("th",[e._v("PR")]):e._e()]})],2)]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item))]),e._v(" "),e._l(Object.keys(e.subjects),function(s){return[a("td",[e.groupBySHSModifiedDate[t.item]&&e.groupBySHSModifiedDate[t.item][s]?a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(e.groupBySHSModifiedDate[t.item][s].marks))]),e._v(" "),a("span",[e._v(e._s(e.revisions.users[e.groupBySHSModifiedDate[t.item][s].lastModifiedBy].username+" ["+e.revisions.users[e.groupBySHSModifiedDate[t.item][s].lastModifiedBy].name+"]"))])]):e._e()],1),e._v(" "),a("td",[e.groupBySHSModifiedDate[t.item]&&e.groupBySHSModifiedDate[t.item][s]?a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(e.groupBySHSModifiedDate[t.item][s].prMarks))]),e._v(" "),a("span",[e._v(e._s(e.revisions.users[e.groupBySHSModifiedDate[t.item][s].lastModifiedBy].username+" ["+e.revisions.users[e.groupBySHSModifiedDate[t.item][s].lastModifiedBy].name+"]"))])]):e._e()],1)]})]}}])})],1)],1)],1)},staticRenderFns:[]};var tn=a("VU/8")(Ks,en,!1,function(e){a("io9T")},"data-v-2f3b0cb3",null).exports,an=a("gRE1"),sn=a.n(an),nn=function(e){return s.default.http.post("v1/school/practical-marks/load-data",e)},rn=function(e){return s.default.http.post("v1/school/practical-marks",e)},on=function(){return s.default.http.get("v1/school/practical-marks/marks-list")},ln={created:function(){var e=this;oe(this.$store.state.core.metas.practical_entry_lock_date)&&!this.$auth.impersonating()&&(alert("Practical Marks Entry is locked by admin. Please contact administrator."),this.$router.push({name:"school.practical-marks.mark-list"})),Ee().then(function(t){e.subjects=t.body,e.subjects.forEach(function(t){e.mappedSubjects[t.id]=t}),e.generateHeader()})},watch:{pagination:{handler:function(){this.getDataFromApi()},deep:!0},subjectHeader:{handler:function(){this.headers=this.partialHeaders.concat(this.subjectHeader)},deep:!0},query:{handler:function(){},deep:!0}},data:function(){var e=this;return{orderBy:[{key:"Registration Number",value:"id"}],query:{orderBy:"id",perPage:10,subjects:[]},subjectRules:function(t){var a=e.subjects.filter(function(e){return e.id===t.subjectId});return a.length>0?[function(e){return!e||parseInt(e)<=parseInt(a[0].prFullMarks)||"Marks should be less than full marks."}]:[function(e){return!0}]},hasNextPage:!1,startingRegNumber:"",headers:[],subjectHeader:[],partialHeaders:[{text:"Registration Number",align:"left",sortable:!1,value:"id",width:"4%"},{text:"Symbol Number",align:"left",sortable:!1,value:"symbolNo",width:"3%"},{text:"Name",align:"left",sortable:!1,value:"symbolNo",width:"7%"}],students:[],subjects:[],search:null,pagination:{},mappedSubjects:{},totalElements:null,valid:!1,errorMessages:["Please provide marks less than full marks"]}},methods:{generateHeader:function(){var e=this,t=[];0===this.query.subjects.length?this.subjects.forEach(function(e){t.push({text:e.subjectShortcode,value:e.id,sortable:!1,width:"2%"})}):this.query.subjects.forEach(function(a){t.push({text:e.mappedSubjects[a].subjectShortcode,value:e.mappedSubjects[a].id,sortable:!1,width:"4%"})}),this.subjectHeader=t},getDataFromApi:function(){var e=this;this.query.page=this.pagination.page-1,this.query.perPage=this.pagination.rowsPerPage,nn(this.query).then(function(t){e.students=e.mapData(t.body.content),e.totalElements=t.body.totalElements,e.pagination.page=t.body.number+1,e.hasNextPage=!t.body.last,e.generateHeader()})},saveMarks:function(){var e=this;0===this.students.filter(function(e){var t=0;for(var a in e.studentHasSubjectsById)e.studentHasSubjectsById[a].error&&t++;return 0!==t}).length?rn(this.mapForSavingData(this.students)).then(function(t){e.hasNextPage?e.pagination.page++:alert("Practical marks entry complete for selected students.")}):alert("There are some invalid marks.")},mapData:function(e){return e.map(function(e){var t={};return e.studentHasSubjectsById.forEach(function(e){e.error=!1,t[e.subjectId]=e}),e.studentHasSubjectsById=t,e})},mapForSavingData:function(e){var t=[];return e.forEach(function(e){t=t.concat(sn()(e.studentHasSubjectsById))}),t},marksEntered:function(e,t,a){var s=e.prMarks;e.prMarks&&parseInt(e.prMarks)>this.mappedSubjects[e.subjectId].prFullMarks?e.error=!0:(e.error=!1,s&&s.toString().length>=2&&this.goTo("marks-"+t+"-"+(parseInt(a)+1)))}}},cn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Practical Marks Entry")]),e._v(" "),a("v-btn",{attrs:{to:{name:"school.practical-marks.mark-list"}}},[e._v("View Entered Marks")])],1)],1),e._v(" "),a("v-form",{directives:[{name:"modal",rawName:"v-modal",value:e.valid,expression:"valid"}]},[a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md5:""}},[a("v-select",{attrs:{items:e.subjects,label:"Subjects","single-line":"","item-text":"subjectShortcode","item-value":"id",multiple:""},model:{value:e.query.subjects,callback:function(t){e.$set(e.query,"subjects",t)},expression:"query.subjects"}})],1),e._v(" "),a("v-flex",{attrs:{"offset-md1":"",md1:""}},[a("v-btn",{on:{click:e.getDataFromApi}},[e._v("Load Data")])],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.students,search:e.search,"rows-per-page-items":[10,20,50],pagination:e.pagination,"total-items":e.totalElements},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n        "+e._s(t.header.text)+"\n      ")]),e._v(" "),a("span",[e._v("\n        "+e._s(t.header.text)+"\n      ")])])]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),e._v(" "),a("td",[e._v(e._s(t.item.symbolNo))]),e._v(" "),a("td",[e._v(e._s(t.item.fullName))]),e._v(" "),e._l(e.subjectHeader,function(s,n){return t.item.studentHasSubjectsById[s.value]?a("td",[a("v-text-field",{ref:"marks-"+t.index+"-"+n,refInFor:!0,attrs:{error:t.item.studentHasSubjectsById[s.value].error,"append-icon":t.item.studentHasSubjectsById[s.value].prMarks?t.item.studentHasSubjectsById[s.value].error?"close":"check":void 0},on:{keyup:function(a){e.marksEntered(t.item.studentHasSubjectsById[s.value],t.index,n)}},model:{value:t.item.studentHasSubjectsById[s.value].prMarks,callback:function(a){e.$set(t.item.studentHasSubjectsById[s.value],"prMarks",a)},expression:"props.item.studentHasSubjectsById[subject.value].prMarks"}})],1):a("td",[e._v("\n          NA\n        ")])})]}}])},[a("template",{slot:"actions-prepend"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.saveMarks}},[e._v(e._s(e.hasNextPage?"Save and Next":"Save"))])],1)],2)],1)],1)},staticRenderFns:[]};var un={name:"mark-list",created:function(){var e=this;on().then(function(t){e.entries=e.mapData(t.body.students),e.subjects=t.body.subjects,e.generateHeader()})},data:function(){return{entries:[],partialHeaders:[{text:"Registration Number",align:"left",sortable:!0,value:"id",width:"7%"},{text:"Name",align:"left",sortable:!0,value:"fullName",width:"10%"},{text:"Symbol Number",align:"left",sortable:!0,value:"symbolNo",width:"7%"}],subjectHeader:[],subjects:[],headers:[]}},methods:{generateHeader:function(){var e=this;this.subjectHeader=[],this.subjects.forEach(function(t){e.subjectHeader.push({text:t.subjectShortcode,value:t.id,sortable:!1,width:"3%"})}),this.headers=this.partialHeaders.concat(this.subjectHeader)},mapData:function(e){return e.map(function(e){var t={};return e.studentHasSubjectsById.forEach(function(e){t[e.subjectId]=e}),e.studentHasSubjectsById=t,e})}}},dn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:"",mb40:""}},[a("v-flex",{attrs:{md2:"",mb20:""}},[a("h2",[e._v("Practical Marks")])])],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.entries,"hide-actions":""},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n        "+e._s(t.header.text)+"\n      ")]),e._v(" "),a("span",[e._v("\n        "+e._s(t.header.text)+"\n      ")])])]}},{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),e._v(" "),a("td",[e._v(e._s(t.item.fullName))]),e._v(" "),a("td",[e._v(e._s(t.item.symbolNo))]),e._v(" "),e._l(e.subjectHeader,function(s){return t.item.studentHasSubjectsById[s.value]?a("td",[e._v("\n        "+e._s(t.item.studentHasSubjectsById[s.value].prMarks)+"\n      ")]):a("td",[e._v("\n        NA\n      ")])})]}}])})],1)},staticRenderFns:[]};var vn={name:"school-profile",created:function(){var e=this;L().then(function(t){e.school=t.body})},methods:{updateSchoolInfo:function(){O(this.school).then(function(e){alert("Updated Successfully!")})}},data:function(){return{school:{},valid:!1,nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=80||"Name must be less than 80 characters"},function(e){return e&&/^[A-z .\-()']+$/g.test(e)||"Please provide valid name"}],emailRules:[function(e){return!!e||"Email is required"},function(e){return e&&re(e)||"Please provide valid email"}],telephoneRules:[function(e){return!!e||"Telephone number or Mobile number is required"},function(e){return e&&/(^9\d{9})$|(^0\d{8})$/.test(e)||"Please provide valid telephone number or mobile number"}],faxRules:[function(e){return!1==!!e||null===e||0===e.length||e&&e.test(/^0\d{8}$/)||"Please provide valid fax number"}],addressRules:[function(e){return!!e||"Address is required"},function(e){return e&&/^[A-z, ]+$/g.test(e)||"Please provide valid address"}],disciplineRules:[function(e){return!!e||"Discipline is required"},function(e){return e&&e.length>0||"Please provide Disciplines"}],schoolTypeRules:[function(e){return!!e||"School Type is required"}]}}},mn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"school_form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",[a("v-flex",{attrs:{md5:""}},[a("h3",[e._v("Update School Info")]),e._v(" "),a("v-text-field",{staticClass:"my-text-uppercase",attrs:{label:"Name",readonly:"",outline:""},model:{value:e.school.name,callback:function(t){e.$set(e.school,"name",t)},expression:"school.name"}}),e._v(" "),a("v-text-field",{ref:"address",staticClass:"my-text-uppercase",attrs:{counter:50,label:"Address*",rules:e.addressRules},model:{value:e.school.address,callback:function(t){e.$set(e.school,"address",t)},expression:"school.address"}}),e._v(" "),a("v-text-field",{ref:"email",attrs:{counter:30,label:"Email*",type:"email",rules:e.emailRules},model:{value:e.school.email,callback:function(t){e.$set(e.school,"email",t)},expression:"school.email"}}),e._v(" "),a("v-text-field",{attrs:{counter:30,label:"Fax",rules:e.faxRules,type:"number"},model:{value:e.school.fax,callback:function(t){e.$set(e.school,"fax",t)},expression:"school.fax"}}),e._v(" "),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.$route.params.id?"":"school_telephone",expression:"$route.params.id ? '' : 'school_telephone'"}],attrs:{counter:10,label:"Telephone / Mobile Number*",rules:e.telephoneRules,type:"number","error-messages":e.errors.collect("telephone"),error:e.errors.has("telephone"),"data-vv-name":"telephone"},model:{value:e.school.telephone,callback:function(t){e.$set(e.school,"telephone",t)},expression:"school.telephone"}}),e._v(" "),a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.updateSchoolInfo}},[e._v("\n        submit\n      ")])],1)],1)],1)},staticRenderFns:[]};var hn={created:function(){var e=this;fs().then(function(t){e.students=t.body.map(function(e){e.mappedShs={};var t=!0,a=!1,s=void 0;try{for(var n,r=Se()(e.studentHasSubjectsById);!(t=(n=r.next()).done);t=!0){var o=n.value;e.mappedShs[o.subjectId]=o}}catch(e){a=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw s}}return e}),Pe(e.$auth.user().school.id).then(function(t){e.subjects=t.body.sort(function(e,t){return e.subjectOrder-t.subjectOrder})})})},computed:{newHeaders:function(){var e=[],t=!0,a=!1,s=void 0;try{for(var n,r=Se()(this.subjects);!(t=(n=r.next()).done);t=!0){var o=n.value;e.push({text:o.subjectShortcode,value:o.id})}}catch(e){a=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw s}}return this.existingHeaders.concat(e)}},data:function(){return{students:[],subjects:[],existingHeaders:[{text:"SN",align:"left",sortable:!1,value:"SN",width:"2%"},{text:"SYM No",align:"left",sortable:!0,value:"symbolNumber"}]}},methods:{saveSupp:function(){var e=[],t=!0,a=!1,s=void 0;try{for(var n,r=Se()(this.students);!(t=(n=r.next()).done);t=!0){var o=n.value;for(var i in o.mappedShs)e.push(o.mappedShs[i])}}catch(e){a=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw s}}ps(e).then(function(e){alert("Successfully updated")})}}},fn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticStyle:{"background-color":"white"}},[a("v-flex",{attrs:{md12:""}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Supplementary list")])],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",staticStyle:{margin:"10px"},attrs:{headers:e.newHeaders,items:e.students,"rows-per-page-items":[-1],"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.index+1))]),e._v(" "),a("td",[e._v(e._s(t.item.symbolNo))]),e._v(" "),e._l(e.subjects,function(s){return a("td",[t.item.mappedShs[s.id]?[e._v("\n            "+e._s(t.item.mappedShs[s.id].calculatedGrade?t.item.mappedShs[s.id].calculatedGrade:"NA")+" "),a("v-checkbox",{model:{value:t.item.mappedShs[s.id].hasSupplementary,callback:function(a){e.$set(t.item.mappedShs[s.id],"hasSupplementary",a)},expression:"props.item.mappedShs[subject.id].hasSupplementary"}})]:[e._v("\n              -\n          ")]],2)})]}}])}),e._v(" "),a("v-btn",{staticClass:"float-right",on:{click:function(t){e.saveSupp()}}},[e._v("Update List")])],1)],1)},staticRenderFns:[]};var pn=[{path:"/students",name:"students.index",component:qs},{path:"/students/create",name:"students.create",component:Ys},{path:"/students/:id/edit",name:"students.edit",component:Xs},{path:"/students/admit-card",name:"students.admit-card",component:Ts},{path:"/practical-marks/subject-wise",name:"practical-marks.subject-wise",component:a("VU/8")(ln,cn,!1,function(e){a("hqQX")},"data-v-bfac7986",null).exports},{path:"/practical-marks/mark-list",name:"practical-marks.mark-list",component:a("VU/8")(un,dn,!1,function(e){a("t0C4")},"data-v-191ece43",null).exports},{path:"/students/:id",name:"students.detail",component:tn},{path:"/profile",name:"profile",component:a("VU/8")(vn,mn,!1,function(e){a("XvIk")},"data-v-552debb3",null).exports},{path:"/marks-entry",name:"marks-entry",component:Ha},{path:"/supp-marks-entry",name:"supp-marks-entry",component:Wa},{path:"/supp-list",name:"supp-list",component:a("VU/8")(hn,fn,!1,function(e){a("takn")},"data-v-467010f5",null).exports}];for(var bn in pn)pn[bn].name="school."+pn[bn].name,pn[bn].meta={auth:["ROLE_SCHOOL"],middleware:["changepassword"]};var _n=pn,xn=a("NYxO"),gn={namespaced:!0,state:{metas:{},auth:{user:{}},symbolNumber:null},actions:{},mutations:{clearAllMetasData:function(e){e.metas={}},updateNextEntrySymbolNumber:function(e,t){e.symbolNumber=(parseInt(t)+1).toString().padStart(t.length,"0")},updateMetaByKey:function(e,t){e.metas[t.key]=t.value},mapAndStoreAllMetas:function(e,t){var a={};t.forEach(function(e){a[e.key]=e.value}),e.metas=a},setUser:function(e,t){e.auth.user=t}},getters:{}},yn={namespaced:!0,state:{jobs:[{title:"Generate Slip Job",name:"generateSlipJob",params:{},meta:{centre_based_entry:"true"},progress:null,status:null,id:null,started:null,ended:null,percentage:null},{title:"Populate Symbol Number Order By Name",name:"generateSymbolNumberJob",params:{sortBy:"name"},meta:{},progress:null,status:null,id:null,started:null,ended:null,percentage:null},{title:"Populate Symbol Number Order By Id",name:"generateSymbolNumberJob",params:{sortBy:"id"},meta:{},progress:null,status:null,id:null,started:null,ended:null,percentage:null}]},actions:{loadJobsInfo:function(e){var t=e.commit;pa().then(function(e){t("updateFromJobInfo",e.body.jobInfos)})}},mutations:{updateFromJobInfo:function(e,t){var a={};for(var s in t){var n=t[s];a[n.jobName+(n.sortBy?n.sortBy:"")]=n}e.jobs.forEach(function(e){var t=a[e.name+(e.params.sortBy?e.params.sortBy:"")];t&&(e.status=t.status,e.total=t.total,e.processed=t.processed,e.started=t.started,e.ended=t.end,e.percentage=t.completedPercentage)})}},getters:{jobs:function(e,t,a){return e.jobs.filter(function(e){for(var t in e.meta)if(e.meta[t]&&a.core.metas[t]!==e.meta[t])return!1;return!0})}}},wn={namespaced:!0,state:{student:{id:null,fName:"",mName:"",lName:"",year:"",schoolId:"",sex:"",fatherName:"",dob:"",dobYear:"",dobMonth:"",dobDay:"",disciplineId:"",symbolNo:"",studentHasSubjectsById:[]},selectedDiscipline:{}},actions:{},mutations:{clearAllStudentData:function(e){},updateStudent:function(e,t){}},getters:{}},kn=a("424j");s.default.use(xn.a);var Sn=new xn.a.Store({modules:{core:gn,student:wn,jobs:yn},plugins:[Object(kn.a)({storage:window.sessionStorage})]}),jn=function(e){return s.default.http.post("v1/auth/change-password",e)},Dn={name:"change-password",data:function(){var e=this;return{change:{currentPassword:null,password:null},confirmPassword:null,currentPasswordRules:[function(e){return!!e||"Current Password is Required Field"}],passwordRules:[function(e){return!!e||"Password is Required Field"}],changePasswordRules:[function(e){return!!e||"Confirm Password Required"},function(t){return t&&t===e.change.password||"Password and Confirm Password should be same"}],valid:!1}},methods:{changePassword:function(){var e=this;this.valid&&jn(this.change).then(function(){e.$auth.logout(),e.$router.push({name:"auth.login"}),e.$emit("menu.change"),e.$store.commit("core/setUser",{})}).catch(function(e){alert("Wrong Password")})}}},In={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Password Change")]),e._v(" "),a("v-spacer")],1),e._v(" "),a("v-card-text",[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{"prepend-icon":"lock",label:"Current Password",type:"password",rules:e.currentPasswordRules},model:{value:e.change.currentPassword,callback:function(t){e.$set(e.change,"currentPassword",t)},expression:"change.currentPassword"}}),e._v(" "),a("v-text-field",{attrs:{id:"password","prepend-icon":"lock",label:"New Password",type:"password",rules:e.passwordRules},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.changePassword(t):null}},model:{value:e.change.password,callback:function(t){e.$set(e.change,"password",t)},expression:"change.password"}}),e._v(" "),a("v-text-field",{attrs:{id:"confirm_password","prepend-icon":"lock",label:"Confirm Password",type:"password",rules:e.changePasswordRules},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.changePassword(t):null}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary",disabled:!e.valid},on:{click:e.changePassword}},[e._v("Change")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Rn=a("VU/8")(Dn,In,!1,function(e){a("umzQ")},"data-v-150930fc",null).exports;s.default.use(b.a);var $n=new b.a({routes:[].concat(p()(ys),p()(Es),p()(_n),[{component:Rn,meta:{auth:!0},path:"/auth/change-password",name:"auth.change-password"}])});$n.beforeEach(function(e,t,a){if(e.meta.middleware&&e.meta.middleware.includes("changepassword"))return function(e){if(Sn.state.core.auth.user.forcePasswordChange)return e({name:"auth.change-password"});e()}(a);a()});var Nn=$n,Cn=a("8+8L"),En=a("3EgV"),Pn=a.n(En),Mn=(a("gJtD"),a("Q0/0"),a("7zck"),a("sUu7")),Fn=a("MLZB"),Tn=a.n(Fn),Hn={methods:{goTo:function(e){var t=this;this.$nextTick(function(){t.$refs[e]&&(Array.isArray(t.$refs[e])?t.$refs[e][0].focus():t.$refs[e].focus())})}}},Bn={school_telephone:{getMessage:function(e,t,a){return a&&a.message||"Telephone Already exists"},validate:function(e,t){return Et(e).then(function(e){return{valid:e.body.status}})}},symbol_number:{getMessage:function(e,t,a){return a&&a.message||"Symbol Number Already exists"},validate:function(e,t){return hs(e,t[0]?t[0]:void 0).then(function(e){return{valid:e.body.status}})}}},qn=a("Sl4y"),Wn=a.n(qn);s.default.use(Wn.a,{id:"GTM-M98SZBJ",enabled:!0,debug:!1,vueRouter:Nn,ignoredViews:["homepage"]});var An=a("2T3s"),On=a.n(An),Ln=a("GytD"),Un=a.n(Ln),Vn=a("LFDJ"),zn=a.n(Vn);Mn.a.Validator.extend("school_telephone",Bn.school_telephone),Mn.a.Validator.extend("symbol_number",Bn.symbol_number),s.default.use(Pn.a),s.default.use(Cn.a),s.default.use(Mn.a),s.default.router=Nn,s.default.mixin(Hn),s.default.use(Tn.a,{auth:On.a,http:Un.a,router:zn.a,parseUserData:function(e){return se(100).then(function(){d.$emit("user.fetched",e)}),e},refreshData:{url:"api/auth/refresh",method:"GET",enabled:!0,interval:30,error:function(e){d.$emit("error.on.refresh",e)}},impersonateData:{url:"api/v1/admin/impersonate",method:"POST"},unimpersonateData:{url:"auth/unimpersonate",method:"POST",redirect:"/admin/dashboard",makeRequest:!1},rolesVar:"role",tokenStore:["localStorage","cookie"]}),s.default.http.options.root=window.myUrl,s.default.config.productionTip=!1,s.default.prototype.$bus=d,new s.default({el:"#app",router:Nn,store:Sn,template:"<App/>",components:{App:h}})},"Q0/0":function(e,t){},QYOG:function(e,t){},Qq3K:function(e,t){},Slwv:function(e,t){},TDBo:function(e,t){},UIFl:function(e,t){},VOPG:function(e,t){},Xu5H:function(e,t){},XvIk:function(e,t){},XyAN:function(e,t){},ayla:function(e,t){},bDY8:function(e,t){},e7aO:function(e,t){},gJtD:function(e,t){},gexm:function(e,t){},gxeq:function(e,t){},hqQX:function(e,t){},ijhT:function(e,t){},io9T:function(e,t){},j5XQ:function(e,t){},kJeo:function(e,t){},lfjb:function(e,t){},"m/gQ":function(e,t){},nC4p:function(e,t){},nRyO:function(e,t){},p7SR:function(e,t){},"rlM+":function(e,t){},"s6C/":function(e,t){},szQd:function(e,t){},t0C4:function(e,t){},takn:function(e,t){},umzQ:function(e,t){},uslO:function(e,t,a){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function n(e){return a(r(e))}function r(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id="uslO"},uwiq:function(e,t){},xrg0:function(e,t){},zLU7:function(e,t){},zMDH:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5cb05a54128ec8d6c6d0.js.map